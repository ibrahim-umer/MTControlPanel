{"ast":null,"code":"import _classCallCheck from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Component}from\"react\";import Axios from\"axios\";import{Link}from'react-router-dom';import{Spinner}from'react-bootstrap';var UserList=/*#__PURE__*/function(_Component){_inherits(UserList,_Component);var _super=_createSuper(UserList);function UserList(props){var _this;_classCallCheck(this,UserList);_this=_super.call(this,props);_this.LoadUserList=function(event){if(event===undefined)Axios.get(window.$domain+'api/Users').then(function(resp){_this.setState({userList:[]});_this.setState({userList:resp.data});}).catch(function(err){alert('Page:manageuser =>'+err);});else if(event.target.name==='SearchByCnic'&&event.target.value!==''){Axios.get(window.$domain+'api/Users/SearchUserbyCNIC/'+event.target.value).then(function(resp){_this.setState({userList:resp.data});}).catch(function(err){alert('Page: Manage User =>'+err);});}else if(event.target.name==='SearchByName'&&event.target.value!==''){Axios.get(window.$domain+'api/Users/SearchUserbyName/'+event.target.value).then(function(resp){_this.setState({userList:resp.data});}).catch(function(err){alert('Page: Manage User =>'+err);});}};_this.UserEnableandDisableHandler=function(userId){if(window.confirm('Attention Please! '+'Opration Defination: If Your User is Enabled turn Disabled if Disabled turn Enabled.')){Axios.post(window.$domain+'api/Users/UserAccountEnableandDisableHandler/'+userId).then(function(resp){console.log(resp);_this.LoadUserList();}).catch(function(resp){return console.log(resp);});}};_this.state={userList:[]};_this.LoadUserList=_this.LoadUserList.bind(_assertThisInitialized(_this));return _this;}_createClass(UserList,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.userList.length===0)this.LoadUserList();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron container-fluid overflow-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row ml-2\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group ml-1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search by CNIC Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",onChange:this.LoadUserList,name:\"SearchByCnic\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group ml-1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search by Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",onChange:this.LoadUserList,name:\"SearchByName\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"User List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row overflow-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"System Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Accounts Details\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Add to new Scheme\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CNIC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Login (DayName/Month/Day/Year) \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Registration Date (DayName/Month/Day/Year)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Enabled\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.userList.length>0?this.state.userList.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:'/ShowAccountDetails/'+user.id,children:\"Show\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:'/User/'+user.id+'/AddtoNewScheme',children:\"Add\"})}),/*#__PURE__*/_jsx(\"td\",{children:user.gender}),/*#__PURE__*/_jsx(\"td\",{children:user.userName}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.phoneNumber}),/*#__PURE__*/_jsx(\"td\",{children:user.cnic}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.lastLogin).toDateString()+' '+new Date(user.lastLogin).toLocaleTimeString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.registration_Date).toDateString()}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){return _this2.UserEnableandDisableHandler(user.id);},children:user.isUserDisabled?/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-lock\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-check\",\"aria-hidden\":\"true\"})})]},user.id);}):/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"})})]})})]});}}]);return UserList;}(Component);export default UserList;","map":{"version":3,"sources":["G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/src/MalikTraders/Components/Pages/UserManagement/UserList/AllUserList.jsx"],"names":["Component","Axios","Link","Spinner","UserList","props","LoadUserList","event","undefined","get","window","$domain","then","resp","setState","userList","data","catch","err","alert","target","name","value","UserEnableandDisableHandler","userId","confirm","post","console","log","state","bind","length","map","user","id","role","gender","userName","email","phoneNumber","cnic","Date","lastLogin","toDateString","toLocaleTimeString","registration_Date","isUserDisabled"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport Axios from \"axios\"\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport { Spinner } from 'react-bootstrap';\r\nclass UserList extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          userList: []\r\n        };\r\n    this.LoadUserList = this.LoadUserList.bind(this);\r\n    }\r\n\r\n     LoadUserList=(event)=>{\r\n        if(event === undefined)\r\n        Axios.get(window.$domain + 'api/Users').then(\r\n            resp=>{\r\n                this.setState({userList: []});\r\n                this.setState({userList: resp.data});\r\n            }\r\n        ).catch(\r\n            err=>{\r\n                alert('Page:manageuser =>'+err)\r\n            }\r\n        )\r\n        else if(event.target.name === 'SearchByCnic' && event.target.value !== '' ){\r\n            Axios.get(window.$domain + 'api/Users/SearchUserbyCNIC/' + event.target.value).\r\n            then(\r\n                resp=>{\r\n                    this.setState({userList: resp.data});\r\n                }\r\n            ).catch(\r\n                err=>{\r\n                    alert('Page: Manage User =>'+err)\r\n                }\r\n            )\r\n        }\r\n        else if(event.target.name === 'SearchByName' && event.target.value !== ''){\r\n            Axios.get(window.$domain + 'api/Users/SearchUserbyName/' + event.target.value).\r\n            then(\r\n                resp=>{\r\n                    this.setState({userList: resp.data});\r\n                }\r\n            ).catch(\r\n                err=>{\r\n                    alert('Page: Manage User =>'+err)\r\n                }\r\n            )\r\n        }\r\n    }\r\n    UserEnableandDisableHandler = (userId)=>\r\n    {\r\n        if(window.confirm('Attention Please! ' + 'Opration Defination: If Your User is Enabled turn Disabled if Disabled turn Enabled.'))\r\n        {\r\n            Axios.post(window.$domain + 'api/Users/UserAccountEnableandDisableHandler/' + userId)\r\n                .then(resp=> {\r\n                    console.log(resp);\r\n                    this.LoadUserList();\r\n                })\r\n                .catch(resp=> console.log(resp));\r\n            \r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.state.userList.length === 0)\r\n        this.LoadUserList();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"jumbotron container-fluid overflow-auto\">\r\n               <div className='row ml-2'>\r\n                    <div class=\"form-group ml-1\">\r\n                        <label>Search by CNIC Number:</label>\r\n                        <input  type='text' class=\"form-control\" onChange={this.LoadUserList} name='SearchByCnic'/>\r\n                    </div>\r\n                    <div class=\"form-group ml-1\">\r\n                        <label>Search by Name:</label>\r\n                        <input  type='text' class=\"form-control\" onChange={this.LoadUserList} name='SearchByName'/>\r\n                    </div>\r\n               </div>\r\n                <h3>User List</h3>\r\n                <div className='row overflow-auto'>\r\n                <table className=\"table table-bordered \">\r\n                    <thead>\r\n                        <tr >\r\n                            <th>System Id</th>\r\n                            <th>Role</th>\r\n                            <th>Name</th>\r\n                            <th>Accounts Details</th>\r\n                            <th>Add to new Scheme</th>\r\n                            <th>Gender</th>\r\n                            <th>User Name</th>\r\n                            <th>Email</th>\r\n                            <th>Phone Number</th>\r\n                            <th>CNIC</th>\r\n                            <th >Last Login (DayName/Month/Day/Year) </th>\r\n                            <th>Registration Date (DayName/Month/Day/Year)</th>\r\n                            <th>User Enabled</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            this.state.userList.length > 0 ?\r\n                            this.state.userList.map(user=>{\r\n                                \r\n                                return <tr key={user.id}>\r\n                                    <td>{user.id}</td>\r\n                                    <td>{user.role}</td>\r\n                                    <td>{user.name}</td>\r\n                                    <td>\r\n                                        <Link to={'/ShowAccountDetails/'+ user.id} >Show</Link>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Link to={'/User/'+ user.id + '/AddtoNewScheme'} >Add</Link>\r\n                                    </td>\r\n                                    <td>{user.gender}</td>\r\n                                    <td>{user.userName}</td>\r\n                                    <td>{user.email}</td>\r\n                                    <td>{user.phoneNumber}</td>\r\n                                    <td>{user.cnic}</td>\r\n                                    <td>{new Date(user.lastLogin).toDateString() + ' ' \r\n                                     + new Date(user.lastLogin).toLocaleTimeString() }</td>\r\n                                    <td>{new Date(user.registration_Date).toDateString()}</td>\r\n                                    <td onClick={()=> this.UserEnableandDisableHandler(user.id)}>\r\n                                        {user.isUserDisabled? <i  class=\"fa fa-lock\" aria-hidden=\"true\"></i> :<i class=\"fa fa-check\" aria-hidden=\"true\"></i>}\r\n                                    </td>\r\n                                </tr>\r\n                            }): <Spinner animation=\"grow\"  /> \r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserList;"]},"metadata":{},"sourceType":"module"}