{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"G:\\\\Projects\\\\Malik Traders\\\\Admin Controll\\\\MT Admin Control App\\\\src\\\\MalikTraders\\\\Components\\\\Pages\\\\Login\\\\Login.jsx\";\nimport React from 'react';\nimport { Component } from 'react';\nimport Cookie from 'universal-cookie/es6';\nimport Axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport { Redirect } from \"react-router\";\nimport { Spinner } from 'react-bootstrap';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loginUser = () => {\n      this.setState({\n        displayAnimator: true\n      });\n      Axios.post(window.$domain + 'api/Users/LoginUser?UserName=' + this.state.user + '&Password=' + this.state.password).then(resp => {\n        if (resp.data.role !== 'user') {\n          alert('Your are not authorize for operating Admin Control');\n          return;\n        }\n\n        Axios.post(window.$domain + 'api/Users/GetUserDatailsId/' + resp.data.id).then(resp => {\n          Axios.post(window.$domain + 'api/UserDetails/UpdateLastLogin/' + resp.data).then(resp => {\n            alert('You are logged in successfully');\n          });\n        });\n        var cookies = new Cookie();\n        cookies.set('logedInUser', {\n          userName: resp.data.userName,\n          email: resp.data.email,\n          role: resp.data.role,\n          id: resp.data.id\n        }, {\n          path: '/',\n          maxAge: 3600\n        });\n        this.setState({\n          login: true\n        });\n        this.setState({\n          displayAnimator: false\n        });\n      }).catch(err => {\n        if (err) alert(err.response.data);\n        this.setState({\n          displayAnimator: false\n        });\n      });\n    };\n\n    this.state = {\n      user: '',\n      password: '',\n      login: false,\n      displayAnimator: false\n    };\n    this.loginUser = this.loginUser.bind(this);\n  }\n\n  componentDidMount() {\n    var cookies = new Cookie();\n\n    if (cookies.get('logedInUser') !== undefined && this.state.login === false) {\n      this.setState({\n        login: true\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4\",\n      style: {\n        width: \"80%\"\n      },\n      children: [this.state.login ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 36\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-3 col-md-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6 col-md-8 login-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-12 login-title \",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-key\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this), \"-Login\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-12 login-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-12 login-form\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.loginUser,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-control-label\",\n                    children: \"UserName\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: event => this.setState({\n                      user: event.target.value\n                    }),\n                    type: \"text\",\n                    className: \"form-control\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-control-label\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: event => this.setState({\n                      password: event.target.value\n                    }),\n                    type: \"password\",\n                    className: \"form-control\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12 loginbttm\",\n                  children: this.state.displayAnimator ? /*#__PURE__*/_jsxDEV(Spinner, {\n                    animation: \"grow\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 73\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-6 login-btn login-button\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onSubmit: this.loginUser,\n                      className: \"btn btn-outline-primary btn-light\",\n                      style: {\n                        alignContent: \"center\"\n                      },\n                      children: \"Login\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 47\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-3 col-md-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/src/MalikTraders/Components/Pages/Login/Login.jsx"],"names":["React","Component","Cookie","Axios","Link","Redirect","Spinner","Login","constructor","props","loginUser","setState","displayAnimator","post","window","$domain","state","user","password","then","resp","data","role","alert","id","cookies","set","userName","email","path","maxAge","login","catch","err","response","bind","componentDidMount","get","undefined","render","width","textAlign","event","target","value","alignContent"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';\r\nimport Cookie from 'universal-cookie/es6';\r\nimport Axios from \"axios\"\r\nimport { Link } from 'react-router-dom';\r\nimport { Redirect } from \"react-router\";\r\nimport { Spinner } from 'react-bootstrap';\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: '',\r\n            password: '',\r\n            login: false,\r\n            displayAnimator: false\r\n        };\r\n    this.loginUser = this.loginUser.bind(this);\r\n    }\r\n    \r\n    loginUser=()=>{\r\n        this.setState({displayAnimator: true})\r\n        Axios.post(window.$domain + 'api/Users/LoginUser?UserName='+ this.state.user + '&Password='+ this.state.password )\r\n        .then(resp=>{\r\n            if(resp.data.role !== 'user' ) \r\n            {\r\n                alert('Your are not authorize for operating Admin Control');\r\n                return ;\r\n            }\r\n            Axios.post(window.$domain + 'api/Users/GetUserDatailsId/'+ resp.data.id )\r\n                .then(\r\n                    resp=>\r\n                    {\r\n                        \r\n                        Axios.post(window.$domain + 'api/UserDetails/UpdateLastLogin/'+ resp.data )\r\n                        .then(\r\n                            resp=>\r\n                            {\r\n                                alert('You are logged in successfully')\r\n                            });\r\n                    });\r\n            var cookies = new Cookie();\r\n            cookies.set('logedInUser', {\r\n                userName: resp.data.userName,\r\n                email: resp.data.email, \r\n                role: resp.data.role, \r\n                id: resp.data.id\r\n                }, \r\n                {\r\n                path: '/',\r\n                maxAge: 3600\r\n              });\r\n              this.setState({login: true});\r\n              this.setState({displayAnimator: false})\r\n        })\r\n        .catch(\r\n            err=>{\r\n                if(err)\r\n                alert(err.response.data);\r\n                this.setState({displayAnimator: false})\r\n            });\r\n    }\r\n    componentDidMount(){\r\n        var cookies = new Cookie();\r\n        if(cookies.get('logedInUser') !== undefined && this.state.login === false){\r\n            this.setState({login: true});\r\n        }\r\n    }\r\n    render(){\r\n        \r\n        return (\r\n            <div className=\"container mt-4\" style={{width: \"80%\"}}>\r\n                {this.state.login? <Redirect to='/' />:''}\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-3 col-md-2\"></div>\r\n                    <div className=\"col-lg-6 col-md-8 login-box\">\r\n                        \r\n                        <div className=\"col-lg-12 login-title \">\r\n                            \r\n                            <p style={{textAlign: 'center'}}>\r\n                                <i className=\"fa fa-key\" aria-hidden=\"true\"></i> \r\n                                -Login\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"col-lg-12 login-form\">\r\n                            <div className=\"col-lg-12 login-form\">\r\n                                <form onSubmit = {this.loginUser}>\r\n                                    <div className=\"form-group\">\r\n                                        <label className=\"form-control-label\">UserName</label>\r\n                                        <input onChange={event=> this.setState({user: event.target.value})} type=\"text\" className=\"form-control\" />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label className=\"form-control-label\">Password</label>\r\n                                        <input onChange={event=> this.setState({password: event.target.value})} type=\"password\" className=\"form-control\" ></input>\r\n                                    </div>\r\n                                    <div className=\"col-lg-12 loginbttm\">\r\n                                        {\r\n                                            this.state.displayAnimator? <Spinner animation=\"grow\" />\r\n                                            : <div className=\"col-lg-6 login-btn login-button\">\r\n                                                <button onSubmit={this.loginUser} className=\"btn btn-outline-primary btn-light\" style={{alignContent: \"center\"}}>\r\n                                                    Login\r\n                                                </button>\r\n                                            </div>\r\n                                        }\r\n                                        \r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-3 col-md-2\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}