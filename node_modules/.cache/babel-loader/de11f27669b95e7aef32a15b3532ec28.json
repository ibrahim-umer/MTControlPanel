{"ast":null,"code":"import _classCallCheck from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import axios from\"axios\";import{Component}from\"react\";import{Redirect}from\"react-router\";import AdminLayout from\"../../AdminLayout/AdminLayout\";import PaymentDetails from\"./DisplayPaymentDetails/PaymentDetails\";import AccountCard from\"./UI/AccountCard\";import Axios from\"axios\";var AccountDetails=/*#__PURE__*/function(_Component){_inherits(AccountDetails,_Component);var _super=_createSuper(AccountDetails);function AccountDetails(props){var _this;_classCallCheck(this,AccountDetails);_this=_super.call(this,props);_this.gotoHistoryPaymentRedirectHandler=function(AccId){_this.setState({gotoHistoryPaymentRedirect:{AccId:AccId,redir:true}});};_this.AccountDisableandEnableHandler=function(AccId){var ClosingDescription=window.prompt(\"what is the reason of Disabling Account\");if(ClosingDescription!==null)if(window.confirm('Attention Please! '+'Opration Defination: Are you sure you want to disable this account')){Axios.put(window.$domain+'api/Accounts/DisableAndEnableHandler/'+AccId+'?ClosingDescription='+ClosingDescription).then(function(resp){console.log(resp);}).catch(function(resp){return console.log(resp);});}};_this.paymentDisplayHandler=function(Accid){_this.state.Accounts.map(function(Account){if(Account.id===Accid){_this.setState({DisplayAcc:Account.accPaymentDetails});_this.setState({AccId:Accid});}});};_this.state={Accounts:null,Schemes:null,DisplayAcc:null,AccId:0,gotoHistoryPaymentRedirect:null};return _this;}_createClass(AccountDetails,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.state.Accounts===null){axios.get(window.$domain+'api/Accounts/GetAccountbyUserId/'+this.props.match.params.id).then(function(resp){_this2.setState({Accounts:resp.data});});axios.get(window.$domain+'api/MTServices').then(function(resp){_this2.setState({Schemes:resp.data});});}}},{key:\"render\",value:function render(){var _this3=this;console.log(this.props.match.params.id);return/*#__PURE__*/_jsxs(AdminLayout,{children:[this.state.gotoHistoryPaymentRedirect===null?'':/*#__PURE__*/_jsx(Redirect,{to:'/Accounts/'+this.state.gotoHistoryPaymentRedirect.AccId+'/Payment'}),/*#__PURE__*/_jsx(\"div\",{className:\"jumbotron mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3\",children:[/*#__PURE__*/_jsx(\"h5\",{style:{textAlign:'center'},children:\"Participated Schemes\"}),this.state.Schemes!==null&&this.state.Accounts!==null?this.state.Accounts.map(function(Account){return _this3.state.Schemes.map(function(Scheme){return Scheme.id===Account.mtServiceId?/*#__PURE__*/_jsx(AccountCard,{schemeName:Scheme.name,desc:Scheme.details,AccId:Account.id,paymentDisplayHandler:_this3.paymentDisplayHandler,gotoPaymentHistory:_this3.gotoHistoryPaymentRedirectHandler,isAccClosed:Account.isAccClosed,disableAcc:_this3.AccountDisableandEnableHandler,closingReason:Account.closingDescription}):'';});}):'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9\",children:[/*#__PURE__*/_jsx(\"h5\",{style:{textAlign:'center'},children:\"Account Payment Details\"}),this.state.DisplayAcc?/*#__PURE__*/_jsx(PaymentDetails,{peymentHistory:this.state.DisplayAcc,AccId:this.state.AccId}):'Please select a Scheme']})]})})]});}}]);return AccountDetails;}(Component);export default AccountDetails;","map":{"version":3,"sources":["G:/Projects/Malik Traders/Admin Controll/MT Admin Control App/src/MalikTraders/Components/Pages/AccountManagement/ShowAccountDetails.jsx"],"names":["axios","Component","Redirect","AdminLayout","PaymentDetails","AccountCard","Axios","AccountDetails","props","gotoHistoryPaymentRedirectHandler","AccId","setState","gotoHistoryPaymentRedirect","redir","AccountDisableandEnableHandler","ClosingDescription","window","prompt","confirm","put","$domain","then","resp","console","log","catch","paymentDisplayHandler","Accid","state","Accounts","map","Account","id","DisplayAcc","accPaymentDetails","Schemes","get","match","params","data","textAlign","Scheme","mtServiceId","name","details","isAccClosed","closingDescription"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { Component } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport AdminLayout from \"../../AdminLayout/AdminLayout\";\r\nimport PaymentDetails from \"./DisplayPaymentDetails/PaymentDetails\";\r\nimport AccountCard from \"./UI/AccountCard\";\r\nimport Axios from \"axios\"\r\nclass AccountDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Accounts:null,\r\n            Schemes: null,\r\n            DisplayAcc: null,\r\n            AccId: 0,\r\n            gotoHistoryPaymentRedirect: null\r\n        }\r\n    }\r\n\r\n    gotoHistoryPaymentRedirectHandler=(AccId)=>{\r\n        this.setState({gotoHistoryPaymentRedirect: {\r\n            AccId: AccId,\r\n            redir: true \r\n        }})\r\n    }\r\n\r\n    AccountDisableandEnableHandler =(AccId)=>{\r\n        \r\n        var ClosingDescription = window.prompt(\"what is the reason of Disabling Account\");\r\n        if(ClosingDescription !== null)\r\n        if(window.confirm('Attention Please! ' + 'Opration Defination: Are you sure you want to disable this account'))\r\n        {\r\n            Axios.put(window.$domain + 'api/Accounts/DisableAndEnableHandler/' + AccId + '?ClosingDescription=' + ClosingDescription)\r\n                .then(resp=> {\r\n                    console.log(resp);\r\n                })\r\n                .catch(resp=> console.log(resp));\r\n            \r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.state.Accounts === null){\r\n            axios.get(window.$domain + 'api/Accounts/GetAccountbyUserId/' + this.props.match.params.id)\r\n            .then(\r\n                resp=>{\r\n                    this.setState({Accounts: resp.data});\r\n                }\r\n            )\r\n            axios.get(window.$domain + 'api/MTServices')\r\n            .then(\r\n                resp=>{\r\n                    this.setState({Schemes: resp.data});\r\n                }\r\n            )\r\n            \r\n        }\r\n    }\r\n\r\n    paymentDisplayHandler = (Accid)=>{\r\n        this.state.Accounts.map(\r\n            Account => {\r\n                if(Account.id === Accid ){\r\n                    this.setState({DisplayAcc: Account.accPaymentDetails});\r\n                    this.setState({AccId: Accid})\r\n                }\r\n            }\r\n        )\r\n    }\r\n    render(){\r\n        console.log(this.props.match.params.id)\r\n        return(\r\n            <AdminLayout>\r\n                {this.state.gotoHistoryPaymentRedirect=== null? '':<Redirect to={'/Accounts/' + this.state.gotoHistoryPaymentRedirect.AccId + '/Payment'} /> }\r\n                <div className='jumbotron mt-3'>\r\n                    <div className='row'>\r\n                        <div className='col-md-3'>\r\n                            <h5 style={{textAlign: 'center'}}>Participated Schemes</h5>\r\n                            {\r\n                                this.state.Schemes !== null && this.state.Accounts !== null ?this.state.Accounts.map(\r\n                                    Account => this.state.Schemes.map(\r\n                                        Scheme=> Scheme.id === Account.mtServiceId ? <AccountCard \r\n                                                                                        schemeName={Scheme.name} \r\n                                                                                        desc={Scheme.details} \r\n                                                                                        AccId={Account.id} \r\n                                                                                        paymentDisplayHandler ={this.paymentDisplayHandler}\r\n                                                                                        gotoPaymentHistory= {this.gotoHistoryPaymentRedirectHandler}\r\n                                                                                        isAccClosed= {Account.isAccClosed}\r\n                                                                                        disableAcc={this.AccountDisableandEnableHandler}\r\n                                                                                        closingReason={Account.closingDescription}/>: ''\r\n                                    ) \r\n                                ): ''\r\n                            }\r\n                        </div>\r\n                        <div className='col-md-9'>\r\n                            <h5 style={{textAlign: 'center'}}>Account Payment Details</h5>\r\n                            {\r\n                                this.state.DisplayAcc? \r\n                                <PaymentDetails peymentHistory={this.state.DisplayAcc} AccId = {this.state.AccId}/>\r\n                                :'Please select a Scheme'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </AdminLayout>\r\n        );\r\n    }\r\n}\r\nexport default AccountDetails;\r\n\r\n"]},"metadata":{},"sourceType":"module"}