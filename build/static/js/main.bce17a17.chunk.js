(this["webpackJsonpmalik-traders"]=this["webpackJsonpmalik-traders"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(19),i=a.n(r),o=(a(50),a(2)),l=(a(51),a(17)),d=a(4),u=a(5),m=a(7),j=a(6),h=a(9),b=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("nav",{className:" navbar-expand-lg navbar navbar-light bg-dark  py-3",id:"mainNav",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(h.b,{to:"/",class:"navbar-brand js-scroll-trigger",children:"Admin Control Panel"}),Object(n.jsx)("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(n.jsxs)("ul",{className:"navbar-nav ml-auto my-2 my-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(h.b,{className:"nav-link js-scroll-trigger",to:"/",children:"Home"})}),Object(n.jsxs)("li",{className:"nav-item dropdown",children:[Object(n.jsx)(h.b,{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"User"}),Object(n.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(n.jsx)(h.b,{className:"dropdown-item",to:"/manageuser",children:"Show User List"}),Object(n.jsx)(h.b,{className:"dropdown-item",to:"/CreateUser",children:"Create New User"}),Object(n.jsx)(h.b,{className:"dropdown-item disabled",children:"Update Existing User"})]})]}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(h.b,{className:"nav-link js-scroll-trigger",to:"/Products",children:"Products"})})]})})]})})}}]),a}(s.Component),O=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b,{}),e.children]})},p=a(10),x=function(e){var t="nav-link active",a="nav-link";return Object(n.jsxs)("ul",{className:"nav nav-tabs flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(h.b,{onClick:function(){return e.menuSwitchingHandler(1)},className:1===e.currentMenu?t:a,children:"Today Recovery Details"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(h.b,{onClick:function(){return e.menuSwitchingHandler(2)},className:2===e.currentMenu?t:a,children:"Show Remain Recovery"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(h.b,{className:"nav-link disabled",children:"Show Report by Month"})})]})},y=a(3),g=a.n(y),v=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataArray:[]},e.loadData=function(){g.a.get(window.$domain+"api/Analatics/GetTodayRecovery").then((function(t){e.setState({dataArray:t.data})}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.state.dataArray.length&&this.loadData()}},{key:"render",value:function(){return Object(n.jsxs)("table",{class:"table table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Client Name"}),Object(n.jsx)("th",{children:"Phone"}),Object(n.jsx)("th",{children:"Payed Amount"}),Object(n.jsx)("th",{children:"Scheme Name"}),Object(n.jsx)("th",{children:"Payment Time"}),Object(n.jsx)("th",{children:"Show Account"})]})}),Object(n.jsx)("tbody",{children:0!==this.state.dataArray.length?this.state.dataArray.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:e.name}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.payed_Amount}),Object(n.jsx)("td",{children:e.scheme}),Object(n.jsx)("td",{children:e.pay_Time}),Object(n.jsx)("td",{children:Object(n.jsx)(h.b,{to:"/Accounts/"+e.accId+"/Payment",children:"show"})})]})})):""})]})}}]),a}(s.Component),f=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataArray:[]},e.loadData=function(){g.a.get(window.$domain+"api/Analatics/GetRemainingRecoveryCurrentMonth").then((function(t){e.setState({dataArray:t.data})}))},e.dataLoader=function(t){g.a.get(window.$domain+"api/Analatics/GetRemainingRecoveryGivenMonth/"+new Date(t.target.value).toDateString()).then((function(t){e.setState({dataArray:t.data})}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.state.dataArray.length&&this.loadData()}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{for:"start",children:"Start month:"}),Object(n.jsx)("input",{type:"month",id:"start",name:"start",min:"2019-03",defaultValue:"2021-10",onChange:this.dataLoader}),Object(n.jsxs)("table",{class:"table table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Client Name"}),Object(n.jsx)("th",{children:"Phone"}),Object(n.jsx)("th",{children:"Scheme Name"}),Object(n.jsx)("th",{children:"Show Account"})]})}),Object(n.jsx)("tbody",{children:0!==this.state.dataArray.length?this.state.dataArray.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:e.name}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.scheme}),Object(n.jsx)("td",{children:Object(n.jsx)(h.b,{to:"/Accounts/"+e.accId+"/Payment",children:"show"})})]})})):""})]})]})}}]),a}(s.Component),N=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={menuSwitcher:1},e.menuSwitchHandler=function(t){e.setState({menuSwitcher:t})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)(x,{currentMenu:this.state.menuSwitcher,menuSwitchingHandler:this.menuSwitchHandler})}),Object(n.jsx)("div",{className:"col-md-9",children:1===this.state.menuSwitcher?Object(n.jsx)(v,{}):2===this.state.menuSwitcher?Object(n.jsx)(f,{}):""})]})}}]),a}(s.Component),S=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return void 0!==(new p.a).get("logedInUser")&&!1===a&&c(!0),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(O,{children:[a?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsx)("div",{className:"jumbotron floid-container row mt-2 overflow-auto",style:{height:"600px"},children:Object(n.jsx)(N,{})})]})})},A=a(16),w=a(78),D=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loginUser=function(){n.setState({displayAnimator:!0}),g.a.post(window.$domain+"api/Users/LoginUser?UserName="+n.state.user+"&Password="+n.state.password).then((function(e){"admin"===e.data.role?(g.a.post(window.$domain+"api/Users/GetUserDatailsId/"+e.data.id).then((function(e){g.a.post(window.$domain+"api/UserDetails/UpdateLastLogin/"+e.data).then((function(e){alert("You are logged in successfully")}))})),(new p.a).set("logedInUser",{userName:e.data.userName,email:e.data.email,role:e.data.role,id:e.data.id},{path:"/",maxAge:3600}),n.setState({login:!0}),n.setState({displayAnimator:!1})):alert("Your are not authorize for operating Admin Control")})).catch((function(e){e&&alert(e.response.data),n.setState({displayAnimator:!1})}))},n.state={user:"",password:"",login:!1,displayAnimator:!1},n.loginUser=n.loginUser.bind(Object(A.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){void 0!==(new p.a).get("logedInUser")&&!1===this.state.login&&this.setState({login:!0})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"container mt-4",style:{width:"80%"},children:[this.state.login?Object(n.jsx)(o.a,{to:"/"}):"",Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-3 col-md-2"}),Object(n.jsxs)("div",{className:"col-lg-6 col-md-8 login-box",children:[Object(n.jsx)("div",{className:"col-lg-12 login-title ",children:Object(n.jsxs)("p",{style:{textAlign:"center"},children:[Object(n.jsx)("i",{className:"fa fa-key","aria-hidden":"true"}),"-Login"]})}),Object(n.jsx)("div",{className:"col-lg-12 login-form",children:Object(n.jsx)("div",{className:"col-lg-12 login-form",children:Object(n.jsxs)("form",{onSubmit:!0,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-control-label",children:"UserName"}),Object(n.jsx)("input",{onChange:function(t){return e.setState({user:t.target.value})},type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-control-label",children:"Password"}),Object(n.jsx)("input",{onChange:function(t){return e.setState({password:t.target.value})},type:"password",className:"form-control"})]}),Object(n.jsx)("div",{className:"col-lg-12 loginbttm",children:this.state.displayAnimator?Object(n.jsx)(w.a,{animation:"grow"}):Object(n.jsx)("div",{className:"col-lg-6 login-btn login-button",children:Object(n.jsx)("button",{onClick:this.loginUser,className:"btn btn-outline-primary btn-light",style:{alignContent:"center"},children:"Login"})})})]})})}),Object(n.jsx)("div",{className:"col-lg-3 col-md-2"})]})]})]})}}]),a}(s.Component),P=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).LoadUserList=function(e){void 0===e?g.a.get(window.$domain+"api/Users").then((function(e){n.setState({userList:[]}),n.setState({userList:e.data})})).catch((function(e){alert("Page:manageuser =>"+e)})):"SearchByCnic"===e.target.name&&""!==e.target.value?g.a.get(window.$domain+"api/Users/SearchUserbyCNIC/"+e.target.value).then((function(e){n.setState({userList:e.data})})).catch((function(e){alert("Page: Manage User =>"+e)})):"SearchByName"===e.target.name&&""!==e.target.value&&g.a.get(window.$domain+"api/Users/SearchUserbyName/"+e.target.value).then((function(e){n.setState({userList:e.data})})).catch((function(e){alert("Page: Manage User =>"+e)}))},n.UserEnableandDisableHandler=function(e){window.confirm("Attention Please! Opration Defination: If Your User is Enabled turn Disabled if Disabled turn Enabled.")&&g.a.post(window.$domain+"api/Users/UserAccountEnableandDisableHandler/"+e).then((function(e){console.log(e),n.LoadUserList()})).catch((function(e){return console.log(e)}))},n.state={userList:[]},n.LoadUserList=n.LoadUserList.bind(Object(A.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.state.userList.length&&this.LoadUserList()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"jumbotron container-fluid overflow-auto",children:[Object(n.jsxs)("div",{className:"row ml-2",children:[Object(n.jsxs)("div",{class:"form-group ml-1",children:[Object(n.jsx)("label",{children:"Search by CNIC Number:"}),Object(n.jsx)("input",{type:"text",class:"form-control",onChange:this.LoadUserList,name:"SearchByCnic"})]}),Object(n.jsxs)("div",{class:"form-group ml-1",children:[Object(n.jsx)("label",{children:"Search by Name:"}),Object(n.jsx)("input",{type:"text",class:"form-control",onChange:this.LoadUserList,name:"SearchByName"})]})]}),Object(n.jsx)("h3",{children:"User List"}),Object(n.jsx)("div",{className:"row overflow-auto",children:Object(n.jsxs)("table",{className:"table table-bordered ",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"System Id"}),Object(n.jsx)("th",{children:"Role"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Accounts Details"}),Object(n.jsx)("th",{children:"Add to new Scheme"}),Object(n.jsx)("th",{children:"Gender"}),Object(n.jsx)("th",{children:"User Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Phone Number"}),Object(n.jsx)("th",{children:"CNIC"}),Object(n.jsx)("th",{children:"Last Login (DayName/Month/Day/Year) "}),Object(n.jsx)("th",{children:"Registration Date (DayName/Month/Day/Year)"}),Object(n.jsx)("th",{children:"User Enabled"})]})}),Object(n.jsx)("tbody",{children:this.state.userList.length>0?this.state.userList.map((function(t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.id}),Object(n.jsx)("td",{children:t.role}),Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:Object(n.jsx)(h.b,{to:"/ShowAccountDetails/"+t.id,children:"Show"})}),Object(n.jsx)("td",{children:Object(n.jsx)(h.b,{to:"/User/"+t.id+"/AddtoNewScheme",children:"Add"})}),Object(n.jsx)("td",{children:t.gender}),Object(n.jsx)("td",{children:t.userName}),Object(n.jsx)("td",{children:t.email}),Object(n.jsx)("td",{children:t.phoneNumber}),Object(n.jsx)("td",{children:t.cnic}),Object(n.jsx)("td",{children:new Date(t.lastLogin).toDateString()+" "+new Date(t.lastLogin).toLocaleTimeString()}),Object(n.jsx)("td",{children:new Date(t.registration_Date).toDateString()}),Object(n.jsx)("td",{onClick:function(){return e.UserEnableandDisableHandler(t.id)},children:t.isUserDisabled?Object(n.jsx)("i",{class:"fa fa-lock","aria-hidden":"true"}):Object(n.jsx)("i",{class:"fa fa-check","aria-hidden":"true"})})]},t.id)})):Object(n.jsx)(w.a,{animation:"grow"})})]})})]})}}]),a}(s.Component),I=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return void 0!==(new p.a).get("logedInUser")&&!1===a&&c(!0),Object(n.jsxs)(O,{children:[a?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsx)(P,{})]})},U=function(e){return Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsxs)("label",{for:e.ctrlName,children:[e.Name,":"]}),Object(n.jsx)("input",{type:e.inutType,class:"form-control",onChange:e.DataInputHandler,name:e.ctrlName})]})},C=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={amount:0,redirect:!1},e.ReadyUser=function(t){t.target.value>0&&e.setState({amount:t.target.value})},e.postPaymnet=function(){var t=new p.a;g.a.post(window.$domain+"api/AccDetails",{id:0,payedAmount:e.state.amount,payingDate:"2021-09-27T22:15:41.611Z",accId:e.props.Accid,postedByUserId:t.get("logedInUser").id}).then((function(t){console.log(t),e.setState({redirect:!0})}))},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"jumbotron mt-3",children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/Accounts/"+this.props.Accid+"/Payment"}):"",Object(n.jsx)("h3",{children:"Add Payment"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"Please fill this form carefully, This transection is ir-revercible"}),Object(n.jsx)("hr",{}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Payment",inutType:"number",ctrlName:"Add Payment"}),Object(n.jsx)("button",{onClick:this.postPaymnet,className:"btn btn-success",children:"Post Amount"})]})}}]),a}(s.Component),T=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(!1),d=Object(l.a)(i,2),u=d[0],m=d[1];return void 0!==(new p.a).get("logedInUser")&&!1===u&&m(!0),Object(n.jsxs)("div",{className:"jumbotron container-fluid overflow-auto",children:[u?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Payment"})]})}),Object(n.jsx)("tbody",{children:e.peymentHistory.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:new Date(e.payingDate).toDateString()}),Object(n.jsx)("td",{children:e.payedAmount})]})}))})]}),Object(n.jsx)("button",{onClick:function(){return r(!c)},className:"btn btn-primary",children:"Pay Installment"}),0!==e.AccId&&c?Object(n.jsx)(C,{Accid:e.AccId}):""]})},k=a(31),M=(a(75),function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1];Object(k.b)(e.closingReason,{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return Object(n.jsxs)("div",{class:"card m-2",style:{width:"12rem"},children:[c?Object(n.jsx)(k.a,{}):"",Object(n.jsxs)("div",{class:"card-body",children:[Object(n.jsx)("h5",{class:"card-title",children:e.schemeName}),Object(n.jsx)("p",{class:"card-text",children:e.desc}),e.isAccClosed?"":Object(n.jsx)("button",{onClick:function(){return e.paymentDisplayHandler(e.AccId)},class:"btn btn-success",children:"Pay Installment"}),Object(n.jsx)("button",{onClick:function(){e.gotoPaymentHistory(e.AccId)},className:"btn btn-info mt-1",children:"Edit History"}),e.isAccClosed?"":Object(n.jsx)("button",{onClick:function(){e.disableAcc(e.AccId)},className:"btn btn-danger mt-1",children:"Disable Account"}),e.isAccClosed?Object(n.jsx)("button",{onClick:function(){return r(!c)},className:"btn btn-primary mt-1",children:"Show Reason"}):""]}),e.isAccClosed?Object(n.jsxs)("span",{class:"badge badge-danger",children:[" ",Object(n.jsx)("i",{class:"fa fa-lock","aria-hidden":"true"})]}):Object(n.jsxs)("span",{class:"badge badge-success",children:[" ",Object(n.jsx)("i",{class:"fa fa-check","aria-hidden":"true"})]})]})}),R=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).gotoHistoryPaymentRedirectHandler=function(e){n.setState({gotoHistoryPaymentRedirect:{AccId:e,redir:!0}})},n.AccountDisableandEnableHandler=function(e){var t=window.prompt("what is the reason of Disabling Account");null!==t&&window.confirm("Attention Please! Opration Defination: Are you sure you want to disable this account")&&g.a.put(window.$domain+"api/Accounts/DisableAndEnableHandler/"+e+"?ClosingDescription="+t).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},n.paymentDisplayHandler=function(e){n.state.Accounts.map((function(t){t.id===e&&(n.setState({DisplayAcc:t.accPaymentDetails}),n.setState({AccId:e}))}))},n.state={Accounts:null,Schemes:null,DisplayAcc:null,AccId:0,gotoHistoryPaymentRedirect:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.Accounts&&(g.a.get(window.$domain+"api/Accounts/GetAccountbyUserId/"+this.props.match.params.id).then((function(t){e.setState({Accounts:t.data})})),g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({Schemes:t.data})})))}},{key:"render",value:function(){var e=this;return console.log(this.props.match.params.id),Object(n.jsxs)(O,{children:[null===this.state.gotoHistoryPaymentRedirect?"":Object(n.jsx)(o.a,{to:"/Accounts/"+this.state.gotoHistoryPaymentRedirect.AccId+"/Payment"}),Object(n.jsx)("div",{className:"jumbotron mt-3",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-3",children:[Object(n.jsx)("h5",{style:{textAlign:"center"},children:"Participated Schemes"}),null!==this.state.Schemes&&null!==this.state.Accounts?this.state.Accounts.map((function(t){return e.state.Schemes.map((function(a){return a.id===t.mtServiceId?Object(n.jsx)(M,{schemeName:a.name,desc:a.details,AccId:t.id,paymentDisplayHandler:e.paymentDisplayHandler,gotoPaymentHistory:e.gotoHistoryPaymentRedirectHandler,isAccClosed:t.isAccClosed,disableAcc:e.AccountDisableandEnableHandler,closingReason:t.closingDescription}):""}))})):""]}),Object(n.jsxs)("div",{className:"col-md-9",children:[Object(n.jsx)("h5",{style:{textAlign:"center"},children:"Account Payment Details"}),this.state.DisplayAcc?Object(n.jsx)(T,{peymentHistory:this.state.DisplayAcc,AccId:this.state.AccId}):"Please select a Scheme"]})]})})]})}}]),a}(s.Component),H=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={historyList:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.historyList.length&&g.a.get(window.$domain+"api/AccDetails/GetAccDetailsbyAccountId/"+this.props.match.params.id).then((function(t){t.data.map((function(t){g.a.get(window.$domain+"api/Users/"+t.postedByUserId).then((function(a){var n=[];(n=e.state.historyList).push({payDate:t.payingDate,paymentId:t.id,payedAmount:t.payedAmount,PostedByUser:a.data.userName}),e.setState({historyList:n})}))}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(n.jsx)(O,{children:Object(n.jsxs)("div",{className:"jumbotron container-fluid overflow-auto",children:[Object(n.jsx)("h2",{children:"Payment History"}),Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date -- Time"}),Object(n.jsx)("th",{children:"Payment"}),Object(n.jsx)("th",{children:"Payment Received By"}),Object(n.jsx)("th",{children:"Amount Modification"})]})}),Object(n.jsx)("tbody",{children:null!==this.state.historyList?this.state.historyList.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:new Date(e.payDate).toDateString()+" -- "+new Date(e.payDate).toLocaleTimeString()}),Object(n.jsx)("td",{children:e.payedAmount}),Object(n.jsx)("td",{children:e.PostedByUser}),Object(n.jsx)("td",{children:Object(n.jsx)(h.b,{to:"/account/payment/modification/"+e.paymentId,children:"modify"})})]})})):Object(n.jsx)(w.a,{animation:"grow"})})]})]})})}}]),a}(s.Component),L=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).ReadyUser=function(e){"GetFullName"===e.target.name?n.setFullName(e.target):"GetUserName"===e.target.name?n.setUserName(e.target):"GetGender"===e.target.name?n.setGender(e.target):"GetEmail"===e.target.name?n.setEmail(e.target):"GetPassword"===e.target.name?n.setPassword(e.target):"GetCNIC"===e.target.name?n.setCNIC(e.target):"GetAddress"===e.target.name?n.setAddress(e.target):"GetPhone"===e.target.name?n.setPhoneNumber(e.target):"GetAccountNumer"===e.target.name?n.setAccountNumber(e.target):"GetBankName"===e.target.name?n.setBankName(e.target):"GetMonthlyInstallment"===e.target.name&&n.setMonthlyInstallment(e.target)},n.setAccountNumber=function(e){var t=[],a={id:0,accNumber:e.value,bankName:n.state.accounts[0].bankName,amountPayable:n.state.accounts[0].amountPayable,monthlyInstalment:n.state.accounts[0].monthlyInstalment,mtServiceId:n.state.accounts[0].mtServiceId,isAccClosed:!1};t.push(a),n.setState({accounts:t})},n.setBankName=function(e){var t=[],a={id:0,accNumber:n.state.accounts[0].accNumber,bankName:e.value,amountPayable:n.state.accounts[0].amountPayable,monthlyInstalment:n.state.accounts[0].monthlyInstalment,mtServiceId:n.state.accounts[0].mtServiceId,isAccClosed:!1};t.push(a),n.setState({accounts:t})},n.setMonthlyInstallment=function(e){var t=[],a={id:0,accNumber:n.state.accounts[0].accNumber,bankName:n.state.accounts[0].bankName,amountPayable:n.state.accounts[0].amountPayable,monthlyInstalment:e.value,mtServiceId:n.state.accounts[0].mtServiceId,isAccClosed:!1};t.push(a),n.setState({accounts:t})},n.setFullName=function(e){n.setState({userDetails:{id:0,name:e.value,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}}),console.log(n.state)},n.setGender=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:e.value,registration_Date:n.state.userDetails.registration_Date}})},n.setUserName=function(e){n.setState({userName:e.value})},n.setEmail=function(e){n.setState({email:e.value}),console.log(n.state)},n.setPassword=function(e){n.setState({password:e.value}),console.log(n.state)},n.setCNIC=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:e.value,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}}),console.log(n.state)},n.setAddress=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:e.value,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}}),console.log(n.state)},n.setPhoneNumber=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:e.value,address:n.state.userDetails.address,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}}),console.log(n.state)},n.setUserType=function(e){n.setState({role:e.target.value})},n.MTServiceSelection=function(e){alert(e.target.value),n.state.MTServices[0].map((function(t){e.target.value===t.name&&(n.setState({accounts:[{id:0,accNumber:n.state.accounts[0].accNumber,bankName:n.state.accounts[0].bankName,amountPayable:t.amount,monthlyInstalment:n.state.accounts[0].monthlyInstalment,mtServiceId:t.id,isAccClosed:!1}]}),n.amountInputRef.current.value=t.amount)}))},n.CreatNewUser=function(){g.a.post(window.$domain+"api/Users",{id:0,email:n.state.email,userName:n.state.userName,password:n.state.password,role:n.state.role,userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:n.state.userDetails.gender},accounts:[{id:0,accNumber:n.state.accounts[0].accNumber,bankName:n.state.accounts[0].bankName,amountPayable:n.state.accounts[0].amountPayable,monthlyInstalment:n.state.accounts[0].monthlyInstalment,mtServiceId:n.state.accounts[0].mtServiceId,isAccClosed:!1}]}).then((function(e){return n.setState({redirect:!0})})).catch((function(e){alert(e.response.data)}))},n.state={id:0,email:"",role:"user",userName:"",password:"",userDetails:{id:0,name:"",cnic:"",phoneNumber:"",address:"",gender:"",registration_Date:""},accounts:[{id:0,accNumber:"",bankName:"",amountPayable:0,monthlyInstalment:0,mtServiceId:0,isAccClosed:!1}],MTServices:[],redirect:!1},n.amountInputRef=c.a.createRef(),n.ReadyUser=n.ReadyUser.bind(Object(A.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.MTServices.length&&g.a.get(window.$domain+"api/MTServices").then((function(t){var a=e.state.MTServices;a.push(t.data),console.log(a),e.setState({MTServices:a})})),console.log(this.state.MTServices)}},{key:"render",value:function(){return Object(n.jsx)(O,{children:Object(n.jsxs)("div",{className:"jumbotron",children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/manageuser"}):"",Object(n.jsx)("h3",{children:"Create New User"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"Please Select User Type"}),Object(n.jsxs)("select",{class:"form-select form-select-lg",onChange:this.setUserType,"aria-label":".form-select-sm example",children:[Object(n.jsx)("option",{selected:!0,children:"user"}),Object(n.jsx)("option",{children:"worker"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"User Information"}),Object(n.jsx)("hr",{}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Full Name",inutType:"text",ctrlName:"GetFullName"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"User Name",inutType:"text",ctrlName:"GetUserName"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"E-mail",inutType:"email",ctrlName:"GetEmail"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Password",inutType:"password",ctrlName:"GetPassword"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Phone Number",inutType:"text",ctrlName:"GetPhone"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"CNIC",inutType:"text",ctrlName:"GetCNIC"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Complete Address",inutType:"text",ctrlName:"GetAddress"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Gender",inutType:"text",ctrlName:"GetGender"}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h5",{children:"Account Information"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h6",{children:"Please Select Scheme/Product"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("select",{class:"form-select form-select-lg",onChange:this.MTServiceSelection,"aria-label":".form-select-sm example",children:[Object(n.jsx)("option",{selected:!0,children:"Please Select Scheme"}),this.state.MTServices.length>0?this.state.MTServices[0].map((function(e){return Object(n.jsx)("option",{children:e.name},e.id)})):Object(n.jsx)("option",{selected:!0,children:"Wait We are trying to Load Your Providing Services"})]})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Account Numer",inutType:"text",ctrlName:"GetAccountNumer"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Bank Name",inutType:"text",ctrlName:"GetBankName"}),Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsx)("label",{for:"GetAmountPayable",children:"Total Amount Payable:"}),Object(n.jsx)("input",{ref:this.amountInputRef,type:"text",class:"form-control",onChange:this.ReadyUser,name:"GetAmountPayable"})]}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Monthly Installment",inutType:"text",ctrlName:"GetMonthlyInstallment"}),Object(n.jsx)("button",{className:"btn btn-success",onClick:this.CreatNewUser,children:"Create User"})]})})}}]),a}(s.Component),G=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).ReadyUser=function(e){"GetAmountPayable"===e.target.name?n.TotalAmountPayable(e.target):"GetMonthlyInstallment"===e.target.name&&n.MonthlyInstallment(e.target)},n.TotalAmountPayable=function(e){n.setState({AccProtoType:{id:0,amountPayable:e.value,monthlyInstalment:n.state.AccProtoType.monthlyInstalment,isAccClosed:!1,userid:n.state.AccProtoType.userid,mtServiceId:n.state.AccProtoType.mtServiceId,accPaymentDetails:null}})},n.MonthlyInstallment=function(e){n.setState({AccProtoType:{id:0,amountPayable:n.state.AccProtoType.amountPayable,monthlyInstalment:e.value,isAccClosed:!1,userid:n.state.AccProtoType.userid,mtServiceId:n.state.AccProtoType.mtServiceId,accPaymentDetails:null}})},n.PostData=function(){g.a.get(window.$domain+"api/Accounts/GetAccountbyUserId/"+n.state.AccProtoType.userid).then((function(e){var t=!1;e.data.map((function(e){e.mtServiceId===n.state.AccProtoType.mtServiceId&&(t=!0,alert("Sorry! You are not allow to make duplication"))})),t||g.a.post(window.$domain+"api/Accounts",n.state.AccProtoType).then((function(e){n.setState({redirect:!0})})).catch((function(e){return alert(e.data.message)}))})).catch((function(e){return alert(e.data.message)}))},n.MTServiceSelection=function(e){"Please Select Scheme/Product"!==e.target.value&&n.state.MTServices.map((function(t){t.name===e.target.value&&n.setState({AccProtoType:{id:0,amountPayable:n.state.AccProtoType.amountPayable,monthlyInstalment:n.state.AccProtoType.monthlyInstalment,isAccClosed:!1,userid:n.state.AccProtoType.userid,mtServiceId:t.id,accPaymentDetails:null}})}))},n.state={AccProtoType:{id:0,amountPayable:0,monthlyInstalment:0,isAccClosed:!1,userid:0,mtServiceId:0,accPaymentDetails:null},MTServices:null,redirect:!1},n.amountInputRef=c.a.createRef(),n.ReadyUser=n.ReadyUser.bind(Object(A.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.AccProtoType.userid&&this.setState({AccProtoType:{id:0,amountPayable:this.state.AccProtoType.amountPayable,monthlyInstalment:this.state.AccProtoType.monthlyInstalment,isAccClosed:!1,userid:this.props.match.params.id,mtServiceId:this.state.AccProtoType.mtServiceId,accPaymentDetails:null}}),null===this.state.MTServices&&g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({MTServices:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)(O,{children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/manageuser"}):"",Object(n.jsxs)("div",{className:"jumbotron",children:[Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h5",{children:"Add User to New Scheme"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h6",{children:"Please Select Scheme/Product"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("select",{class:"form-select form-select-lg",onChange:this.MTServiceSelection,"aria-label":".form-select-sm example",children:[Object(n.jsx)("option",{selected:!0,children:"Please Select Scheme/Product"}),this.state.MTServices?this.state.MTServices.map((function(e){return Object(n.jsx)("option",{children:e.name},e.id)})):Object(n.jsx)("option",{selected:!0,children:"Wait We are trying to Load Your Providing Services"})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsx)("label",{for:"GetAmountPayable",children:"Total Amount Payable:"}),Object(n.jsx)("input",{ref:this.amountInputRef,type:"number",class:"form-control",onChange:this.ReadyUser,name:"GetAmountPayable"})]}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Monthly Installment",inutType:"number",ctrlName:"GetMonthlyInstallment"}),Object(n.jsx)("button",{className:"btn btn-success",onClick:this.PostData,children:"Add User to this Sceme"})]})]})}}]),a}(s.Component),E=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={mtServices:null},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.mtServices&&g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({mtServices:t.data})})).catch((function(e){alert("Page: Product Load =>"+e)}))}},{key:"render",value:function(){return Object(n.jsx)(O,{children:Object(n.jsxs)("div",{className:"jumbotron",children:[Object(n.jsx)("h3",{children:"Manage Products/Schemes"}),Object(n.jsx)("div",{className:"row overflow-auto",children:Object(n.jsxs)("table",{className:"table table-bordered ",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Id"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Total Amount"}),Object(n.jsx)("th",{children:"Details"})]})}),Object(n.jsx)("tbody",{children:this.state.mtServices?this.state.mtServices.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.id}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.amount}),Object(n.jsx)("td",{children:e.details})]})})):"we are loading data from server"})]})}),Object(n.jsx)(h.b,{className:"btn btn-success",to:"/AddProduct",children:"Add More Product"})]})})}}]),a}(s.Component),$=function(e){return Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsxs)("label",{for:e.name,children:[e.Name,":"]}),Object(n.jsx)("input",{type:e.type,class:"form-control",onChange:e.DataInputHandler,name:e.Name})]})},B=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={newProduct:{id:0,name:"",amount:0,details:""},redirect:!1},e.inputHandler=function(t){"Scheme/Product Name"===t.target.name?e.handleName(t.target.value):"Total Amount"===t.target.name?e.handleAmount(t.target.value):"Add Details"===t.target.name&&e.handleDetails(t.target.value)},e.handleName=function(t){e.setState({newProduct:{id:0,name:t,amount:e.state.newProduct.amount,details:e.state.newProduct.details}})},e.handleAmount=function(t){e.setState({newProduct:{id:0,name:e.state.newProduct.name,amount:t,details:e.state.newProduct.details}})},e.handleDetails=function(t){e.setState({newProduct:{id:0,name:e.state.newProduct.name,amount:e.state.newProduct.amount,details:t}})},e.postNewProduct=function(){g.a.post(window.$domain+"api/MTServices",e.state.newProduct).then((function(t){e.setState({redirect:!0})})).catch((function(e){alert(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(O,{children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/products"}):"",Object(n.jsxs)("div",{className:"jumbotron",children:[Object(n.jsx)("h3",{children:"Add New Product"}),Object(n.jsx)($,{DataInputHandler:this.inputHandler,Name:"Scheme/Product Name",type:"text"}),Object(n.jsx)($,{DataInputHandler:this.inputHandler,Name:"Total Amount",type:"Number"}),Object(n.jsx)($,{DataInputHandler:this.inputHandler,Name:"Add Details",type:"text"}),Object(n.jsx)(h.b,{className:"btn btn-success",onClick:this.postNewProduct,children:"Add Product"})]})]})}}]),a}(s.Component),_=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={amount:0,EntryDateTime:null,redirect:!1,accDetailsId:0},e.ReadyUser=function(t){t.target.value>0&&e.setState({amount:t.target.value})},e.postPaymnet=function(){g.a.get(window.$domain+"api/AccDetails/"+e.props.match.params.id).then((function(t){var a=t.data;a.payedAmount=e.state.amount,a.payingDate=e.state.EntryDateTime,g.a.put(window.$domain+"api/AccDetails/"+e.props.match.params.id,a).then((function(a){e.setState({accDetailsId:t.data.accId}),e.setState({redirect:!0})}))})).catch((function(e){alert(e)}))},e.EntryDateTimeHandler=function(t){e.setState({EntryDateTime:t.target.value})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)(O,{children:Object(n.jsxs)("div",{className:"jumbotron mt-3",children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/Accounts/"+this.state.accDetailsId+"/Payment"}):"",Object(n.jsx)("h3",{children:"Modify Payment"}),Object(n.jsx)("hr",{}),Object(n.jsx)("label",{for:"Entry",children:"Entry Date Time:--"}),Object(n.jsx)("input",{onChange:this.EntryDateTimeHandler,type:"datetime-local",id:"Entry",name:"Entry"}),Object(n.jsx)(U,{DataInputHandler:this.ReadyUser,Name:"Payment",inutType:"number",ctrlName:"Add Payment"}),Object(n.jsx)("button",{onClick:this.postPaymnet,className:"btn btn-success",children:"Post Amount"})]})})}}]),a}(s.Component);window.$domain="https://maliktraders20211011002845.azurewebsites.net/";var F=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/",exact:!0,component:S}),Object(n.jsx)(o.b,{path:"/Products",exact:!0,component:E}),Object(n.jsx)(o.b,{path:"/AddProduct",exact:!0,component:B}),Object(n.jsx)(o.b,{path:"/manageuser",exact:!0,component:I}),Object(n.jsx)(o.b,{path:"/ShowAccountDetails/:id",component:R}),Object(n.jsx)(o.b,{path:"/Accounts/:id/Payment",component:H}),Object(n.jsx)(o.b,{path:"/CreateUser",component:L}),Object(n.jsx)(o.b,{path:"/User/:id/AddtoNewScheme",exact:!0,component:G}),Object(n.jsx)(o.b,{path:"/login",component:D}),Object(n.jsx)(o.b,{path:"/account/payment/modification/:id",component:_})]})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},W=a(44),z=a(23),J=a(18),V="SIGNIN_USER",Z="SIGNOUT_USER",q={loggedinUser:{email:"",displayName:"",pictureURL:"",loggedinStatus:!1}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=new p.a,n=a.get("user");if(n&&n.loggedinStatus)return Object(J.a)(Object(J.a)({},e),{},{loggedinUser:a.get("user")});switch(a.set("user",e.loggedinUser,{path:"/"}),t.type){case V:return console.log(t),a.set("user",t.payload,{path:"/"}),Object(J.a)(Object(J.a)({},e),{},{loggedinUser:t.payload});case Z:var s={loggedinUser:{email:"",displayName:"",pictureURL:"",loggedinStatus:!1}};return a.set("user",s.loggedinUser,{path:"/"}),Object(J.a)(Object(J.a)({},e),{},{loggedinUser:s.loggedinUser});default:return e}};var Q=Object(z.c)(K,Object(z.a)((function(e){return e.getState,function(e){return function(t){console.log("will dispatch",t);var a=e(t);return console.log("state after dispatch",t),a}}})));i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(h.a,{children:Object(n.jsx)(W.a,{store:Q,children:Object(n.jsx)(F,{})})})}),document.getElementById("root")),Y()}},[[77,1,2]]]);
//# sourceMappingURL=main.bce17a17.chunk.js.map