(this["webpackJsonpmalik-traders"]=this["webpackJsonpmalik-traders"]||[]).push([[0],{30:function(e,t,a){e.exports={zoom:"AllUserListStyles_zoom__2nCo-"}},36:function(e,t,a){e.exports={zoom:"CardStyling_zoom__BwXAY"}},57:function(e,t,a){},58:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(22),i=a.n(r),o=(a(57),a(2)),l=(a(58),a(13)),d=a(5),u=a(6),h=a(8),j=a(7),m=a(4),b=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("nav",{className:" navbar-expand-lg navbar navbar-light bg-dark  py-3",id:"mainNav",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(m.b,{to:"/",class:"navbar-brand js-scroll-trigger",children:Object(n.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})}),Object(n.jsx)("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(n.jsxs)("ul",{className:"navbar-nav ml-auto my-2 my-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(m.b,{className:"nav-link js-scroll-trigger",to:"/",children:[Object(n.jsx)("i",{className:"fa fa-table","aria-hidden":"true"}),"\xa0DashBoard"]})}),Object(n.jsxs)("li",{className:"nav-item dropdown",children:[Object(n.jsxs)(m.b,{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(n.jsx)("i",{className:"fa fa-user","aria-hidden":"true"}),"\xa0 User"]}),Object(n.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(n.jsx)(m.b,{className:"dropdown-item",to:"/manageuser",children:"Show User List"}),Object(n.jsx)(m.b,{className:"dropdown-item",to:"/CreateUser",children:"Create New User"}),Object(n.jsx)(m.b,{className:"dropdown-item disabled",children:"Update Existing User"})]})]}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(m.b,{className:"nav-link js-scroll-trigger",to:"/Products",children:[Object(n.jsx)("i",{className:"fa fa-magic","aria-hidden":"true"}),"\xa0Products"]})})]})})]})})}}]),a}(s.Component),p=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b,{}),e.children]})},O=a(10),x=function(e){var t="nav-link active",a="nav-link";return Object(n.jsxs)("ul",{className:"nav nav-tabs flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{onClick:function(){return e.menuSwitchingHandler(1)},className:1===e.currentMenu?t:a,children:"Today Recovery Details"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{onClick:function(){return e.menuSwitchingHandler(2)},className:2===e.currentMenu?t:a,children:"Show Remain Recovery"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{onClick:function(){return e.menuSwitchingHandler(3)},className:3===e.currentMenu?t:a,children:"Show Report by Month"})})]})},y=a(3),g=a.n(y),f=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataArray:[],recoverySum:0},e.loadData=function(){g.a.get(window.$domain+"api/Analatics/GetTodayRecovery").then((function(t){e.setState({dataArray:t.data}),e.state.dataArray.map((function(t){e.setState({recoverySum:e.state.recoverySum+t.payed_Amount})}))}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.state.dataArray.length&&this.loadData()}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{class:"card  shadow h-30 py-1",children:Object(n.jsx)("div",{class:"card-body",children:Object(n.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(n.jsxs)("div",{class:"col mr-2",children:[Object(n.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Gain Recovery (Today)"}),Object(n.jsxs)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:["PKR"," "+this.state.recoverySum]})]}),Object(n.jsx)("div",{class:"col-auto",children:Object(n.jsx)("i",{class:"fa fa-credit-card fa-2x text-gray-300"})})]})})}),Object(n.jsxs)("table",{class:"table shadow table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Client Name"}),Object(n.jsx)("th",{children:"Phone"}),Object(n.jsx)("th",{children:"Payed Amount"}),Object(n.jsx)("th",{children:"Scheme Name"}),Object(n.jsx)("th",{children:"Payment Time"}),Object(n.jsx)("th",{children:"Show Account"})]})}),Object(n.jsx)("tbody",{children:0!==this.state.dataArray.length?this.state.dataArray.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:e.name}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.payed_Amount}),Object(n.jsx)("td",{children:e.scheme}),Object(n.jsx)("td",{children:e.pay_Time}),Object(n.jsx)("td",{children:Object(n.jsx)(m.b,{to:"/Accounts/"+e.accId+"/Payment",children:"show"})})]})})):Object(n.jsx)("p",{children:"No Recovery Found"})})]})]})}}]),a}(s.Component),v=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataArray:[]},e.loadData=function(){g.a.get(window.$domain+"api/Analatics/GetRemainingRecoveryCurrentMonth").then((function(t){e.setState({dataArray:t.data})}))},e.dataLoader=function(t){g.a.get(window.$domain+"api/Analatics/GetRemainingRecoveryGivenMonth/"+new Date(t.target.value).toDateString()).then((function(t){e.setState({dataArray:t.data})}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.state.dataArray.length&&this.loadData()}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{className:"shadow form-control mb-1",type:"month",id:"start",name:"start",min:"2019-03",defaultValue:"2021-10",onChange:this.dataLoader}),Object(n.jsxs)("table",{class:"table shadow table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Client Name"}),Object(n.jsx)("th",{children:"Phone"}),Object(n.jsx)("th",{children:"Scheme Name"}),Object(n.jsx)("th",{children:"Show Account"})]})}),Object(n.jsx)("tbody",{children:0!==this.state.dataArray.length?this.state.dataArray.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:e.name}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.scheme}),Object(n.jsx)("td",{children:Object(n.jsx)(m.b,{to:"/Accounts/"+e.accId+"/Payment",children:"show"})})]})})):Object(n.jsx)("p",{children:"No Remain Recovery Found"})})]})]})}}]),a}(s.Component),D=a(48),S=function(e){var t=e.title,a=e.graphData;return Object(n.jsx)(D.a,{width:"650px",height:"450px",chartType:"ComboChart",loader:Object(n.jsx)("div",{className:"jumbotron",children:"Loading Chart"}),data:a,options:{title:t,vAxis:{title:"Paid Customer"},hAxis:{title:"Monthly"},seriesType:"bars",series:{6:{type:"line"}}},rootProps:{"data-testid":"1"}})},w=function(e){return Object(n.jsxs)("button",{className:"btn btn-primary",onClick:function(){return e.goBack()},style:{position:"absolute",top:"80px"},children:[Object(n.jsx)("i",{class:"fa fa-backward mr-1","aria-hidden":"true"}),"Go Back"]})},N=["January","February","March","April","May","June","July","August","September","October","November","December"],A=function(e){var t=Object(s.useState)(null),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(0),o=Object(l.a)(i,2),d=o[0],u=o[1],h=Object(s.useState)(null),j=Object(l.a)(h,2),m=j[0],b=j[1],p=Object(s.useRef)(null),O=Object(s.useRef)(null),x=Object(s.useRef)(null),y=Object(s.useState)(null),f=Object(l.a)(y,2),v=f[0],D=f[1];return Object(s.useEffect)((function(){null===m&&g.a.get(window.$domain+"api/MTServices").then((function(e){b(e.data)}))})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"Chart Report"}),Object(n.jsxs)("select",{onChange:function(e){console.log("called"),m.forEach((function(t){t.name===e.target.value&&D(t.id)}))},class:"form-select form-select-lg m-1","aria-label":".form-select-sm example",children:[Object(n.jsx)("option",{selected:!0,children:"Please Select Scheme/Product"}),m?m.map((function(e){return Object(n.jsx)("option",{id:e.id,children:e.name},e.id)})):Object(n.jsx)("option",{selected:!0,children:"Wait We are trying to Load Your Providing Services"})]}),Object(n.jsxs)("div",{class:"form-check m-1",children:[Object(n.jsx)("input",{ref:x,class:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"}),Object(n.jsx)("label",{class:"form-check-label",for:"defaultCheck1",children:"Allow Disable Accounts"})]}),Object(n.jsx)("label",{for:"StartMonth",children:"Start Month:"}),Object(n.jsx)("input",{ref:p,className:"shadow form-control  ml-1",type:"month",id:"StartMonth",name:"Start-Date"}),Object(n.jsx)("label",{for:"End-Month",children:"End Month:"}),Object(n.jsx)("input",{ref:O,className:"shadow form-control ml-1",type:"month",id:"start",name:"End-Date"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("button",{className:"btn btn-light mt-2",onClick:function(){null!==v?""!==p.current.value&&""!==O.current.value?p.current.value>O.current.value?alert("Check Start date greater to End Dates"):g.a.get(window.$domain+"api/Analatics/GetPaidAndUnpaidCustomerReportOfScheme?StartMonth="+p.current.value+"&EndtartMonth="+O.current.value+"&SchemeId="+v+"&WithCloseAcc="+x.current.checked).then((function(e){var t=[["Month","Number of Paid Customer"]];e.data.data.forEach((function(e){t.push([N[new Date(e.month).getMonth()]+" Paid:"+e.totalPaidAmount+"PKR",e.totalPaidCustomer])})),u(e.data.totalCustomer),r(t)})).catch((function(e){return alert(e.data)})):alert("Check Start and End Dates"):alert("please select Scheme")},style:{marginLeft:"auto",marginRight:"5px"},children:"Search"})}),Object(n.jsx)(S,{title:"We have total number of customers of selected Scheme are: "+d,graphData:c})]})},P=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={menuIndex:1},e.menuSwitchHandler=function(t){e.setState({menuIndex:t})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)(x,{currentMenu:this.state.menuIndex,menuSwitchingHandler:this.menuSwitchHandler})}),Object(n.jsx)("div",{className:"col-md-9",children:1===this.state.menuIndex?Object(n.jsx)(f,{}):2===this.state.menuIndex?Object(n.jsx)(v,{}):3===this.state.menuIndex?Object(n.jsx)(A,{}):""})]})}}]),a}(s.Component),T=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return void 0!==(new O.a).get("logedInUser")&&!1===a&&c(!0),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(p,{children:[a?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsx)("div",{className:"jumbotron floid-container row mt-2 overflow-auto",style:{height:"600px"},children:Object(n.jsx)(P,{})})]})})},I=a(11),C=a(85),U=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loginUser=function(){n.setState({displayAnimator:!0}),g.a.post(window.$domain+"api/Users/LoginUser?UserName="+n.state.user+"&Password="+n.state.password).then((function(e){"admin"===e.data.role?(g.a.post(window.$domain+"api/Users/GetUserDatailsId/"+e.data.id).then((function(e){g.a.post(window.$domain+"api/UserDetails/UpdateLastLogin/"+e.data).then((function(e){alert("You are logged in successfully")}))})),(new O.a).set("logedInUser",{userName:e.data.userName,email:e.data.email,role:e.data.role,id:e.data.id},{path:"/",maxAge:3600}),n.setState({login:!0}),n.setState({displayAnimator:!1})):alert("Your are not authorize for operating Admin Control")})).catch((function(e){e&&alert(e.message+": Check Internet Connection or Contact Database Admin"),n.setState({displayAnimator:!1})}))},n.state={user:"",password:"",login:!1,displayAnimator:!1},n.loginUser=n.loginUser.bind(Object(I.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){void 0!==(new O.a).get("logedInUser")&&!1===this.state.login&&this.setState({login:!0})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"container mt-4",style:{width:"80%"},children:[this.state.login?Object(n.jsx)(o.a,{to:"/"}):"",Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-3 col-md-2"}),Object(n.jsxs)("div",{className:"col-lg-6 col-md-8 login-box",children:[Object(n.jsx)("div",{className:"col-lg-12 login-title ",children:Object(n.jsxs)("p",{style:{textAlign:"center"},children:[Object(n.jsx)("i",{className:"fa fa-key","aria-hidden":"true"}),"-Login"]})}),Object(n.jsx)("div",{className:"col-lg-12 login-form",children:Object(n.jsx)("div",{className:"col-lg-12 login-form",children:Object(n.jsxs)("form",{onSubmit:!0,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-control-label",children:"UserName"}),Object(n.jsx)("input",{onChange:function(t){return e.setState({user:t.target.value})},type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"form-control-label",children:"Password"}),Object(n.jsx)("input",{onChange:function(t){return e.setState({password:t.target.value})},type:"password",className:"form-control"})]}),Object(n.jsx)("div",{className:"col-lg-12 loginbttm",children:this.state.displayAnimator?Object(n.jsx)(C.a,{animation:"grow"}):Object(n.jsx)("div",{className:"col-lg-6 login-btn login-button",children:Object(n.jsx)("button",{onClick:this.loginUser,className:"btn btn-outline-primary btn-light",style:{alignContent:"center"},children:"Login"})})})]})})}),Object(n.jsx)("div",{className:"col-lg-3 col-md-2"})]})]})]})}}]),a}(s.Component),k=a(30),H=a.n(k),L=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).LoadUserList=function(e){void 0===e?g.a.get(window.$domain+"api/Users").then((function(e){n.setState({userList:[]}),n.setState({userList:e.data}),e.data.map((function(e){g.a.get(window.$domain+"api/ShopAccounts/ShopAccountExistsByUserId/"+e.id).then((function(t){var a=n.state.shopAcc;a.push({userId:e.id,isAcc:t.data}),n.setState({shopAcc:a})})).catch((function(e){return e.data.message}))}))})).catch((function(e){alert("Page:manageuser =>"+e)})):"SearchByCnic"===e.target.name&&""!==e.target.value?g.a.get(window.$domain+"api/Users/SearchUserbyCNIC/"+e.target.value).then((function(e){n.setState({userList:e.data})})).catch((function(e){alert("Page: Manage User =>"+e)})):"SearchByName"===e.target.name&&""!==e.target.value?g.a.get(window.$domain+"api/Users/SearchUserbyName/"+e.target.value).then((function(e){n.setState({userList:e.data})})).catch((function(e){alert("Page: Manage User =>"+e)})):"SearchByScheme"===e.target.name&&""!==e.target.value&&g.a.get(window.$domain+"api/Users/SearchUserbyUserSchemeID/"+e.target.value).then((function(e){n.setState({userList:e.data})})).catch((function(e){alert("Page: Manage User =>"+e)}))},n.UserEnableandDisableHandler=function(e){window.confirm("Attention Please! Opration Defination: If Your User is Enabled turn Disabled if Disabled turn Enabled.")&&g.a.post(window.$domain+"api/Users/UserAccountEnableandDisableHandler/"+e).then((function(e){n.LoadUserList()}))},n.getAccState=function(e){for(var t=null,a=0;a<n.state.shopAcc.length;a++)if(n.state.shopAcc[a].userId===e){t=n.state.shopAcc[a].isAcc;break}return t},n.state={userList:[],shopAcc:[]},n.LoadUserList=n.LoadUserList.bind(Object(I.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.state.userList.length&&this.LoadUserList()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"jumbotron container-fluid overflow-auto",children:[Object(n.jsxs)("h3",{children:["Search User ",Object(n.jsx)("i",{className:"fa fa-search ","aria-hidden":"true"})]}),Object(n.jsxs)("div",{className:"row ml-1 border border-dark shadow",children:[Object(n.jsxs)("div",{className:"form-group ml-1",children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("sub",{children:"by"}),"CNIC Number:"]}),Object(n.jsx)("input",{type:"text",class:"form-control shadow",onChange:this.LoadUserList,name:"SearchByCnic"})]}),Object(n.jsxs)("div",{className:"form-group ml-1",children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("sub",{children:"by"}),"Name:"]}),Object(n.jsx)("input",{type:"text",className:"form-control shadow",onChange:this.LoadUserList,name:"SearchByName"})]}),Object(n.jsxs)("div",{className:"form-group ml-1",children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("sub",{children:"by"}),"Scheme ID:"]}),Object(n.jsx)("input",{type:"number",className:"form-control shadow",onChange:this.LoadUserList,name:"SearchByScheme"})]})]}),Object(n.jsxs)("h3",{children:["Users ",Object(n.jsx)("i",{className:"fa fa-users "+H.a.zoom,"aria-hidden":"true"})]}),Object(n.jsx)("div",{className:"row shadow overflow-auto m-1",children:Object(n.jsxs)("table",{className:"table  table-bordered ",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"System Id"}),Object(n.jsx)("th",{children:"Role"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Accounts Details"}),Object(n.jsx)("th",{children:"Add to new Scheme"}),Object(n.jsx)("th",{children:"Shop Acc."}),Object(n.jsx)("th",{children:"Gender"}),Object(n.jsx)("th",{children:"User Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Phone Number"}),Object(n.jsx)("th",{children:"CNIC"}),Object(n.jsx)("th",{children:"Last Login (DayName/Month/Day/Year) "}),Object(n.jsx)("th",{children:"Registration Date (DayName/Month/Day/Year)"}),Object(n.jsx)("th",{children:"User Enabled"})]})}),Object(n.jsx)("tbody",{children:this.state.userList.length>0?this.state.userList.map((function(t){var a=e.getAccState(t.id);return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.id}),Object(n.jsx)("td",{children:t.role}),Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:"admin"===t.role?"":Object(n.jsx)(m.b,{to:"/ShowAccountDetails/"+t.id,children:"Show"})}),Object(n.jsx)("td",{children:"admin"===t.role?"":Object(n.jsx)(m.b,{to:"/User/"+t.id+"/AddtoNewScheme",children:"Add"})}),Object(n.jsx)("td",{children:"admin"!==t.role?a?Object(n.jsx)(m.b,{to:"/user/"+t.id+"/shop",children:"Go"}):Object(n.jsx)(m.b,{to:"/user/"+t.id+"/create-shop-account",children:"Create"}):""}),Object(n.jsx)("td",{children:t.gender}),Object(n.jsx)("td",{children:t.userName}),Object(n.jsx)("td",{children:t.email}),Object(n.jsx)("td",{children:t.phoneNumber}),Object(n.jsx)("td",{children:t.cnic}),Object(n.jsx)("td",{children:new Date(t.lastLogin).toDateString()+" "+new Date(t.lastLogin).toLocaleTimeString()}),Object(n.jsx)("td",{children:new Date(t.registration_Date).toDateString()}),Object(n.jsx)("td",{onClick:function(){"admin"!==t.role&&e.UserEnableandDisableHandler(t.id)},children:t.isUserDisabled?Object(n.jsx)("i",{class:"fa fa-lock "+H.a.zoom,"aria-hidden":"true"}):Object(n.jsx)("i",{class:"fa fa-check "+H.a.zoom,"aria-hidden":"true"})})]},t.id)})):Object(n.jsx)(C.a,{animation:"grow"})})]})})]})}}]),a}(s.Component),R=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return void 0!==(new O.a).get("logedInUser")&&!1===a&&c(!0),Object(n.jsxs)(p,{children:[a?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsx)(L,{})]})},M=function(e){return Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsxs)("label",{for:e.ctrlName,children:[e.Name,":"]}),Object(n.jsx)("input",{type:e.inutType,class:"form-control",onChange:e.DataInputHandler,name:e.ctrlName})]})},E=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={amount:0,redirect:!1},e.ReadyUser=function(t){t.target.value>0&&e.setState({amount:t.target.value})},e.postPaymnet=function(){var t=new O.a;g.a.post(window.$domain+"api/AccDetails",{id:0,payedAmount:e.state.amount,payingDate:"2021-09-27T22:15:41.611Z",accId:e.props.Accid,postedByUserId:t.get("logedInUser").id}).then((function(t){e.setState({redirect:!0})}))},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"jumbotron mt-3",children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/Accounts/"+this.props.Accid+"/Payment"}):"",Object(n.jsx)("h3",{children:"Add Payment"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"Please fill this form carefully, This transection is ir-revercible"}),Object(n.jsx)("hr",{}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Payment",inutType:"number",ctrlName:"Add Payment"}),Object(n.jsx)("button",{onClick:this.postPaymnet,className:"btn btn-success",children:"Post Amount"})]})}}]),a}(s.Component),G=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(!1),d=Object(l.a)(i,2),u=d[0],h=d[1];return void 0!==(new O.a).get("logedInUser")&&!1===u&&h(!0),Object(n.jsxs)("div",{className:"jumbotron container-fluid overflow-auto",children:[u?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsxs)("table",{className:"table shadow table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Payment"})]})}),Object(n.jsx)("tbody",{children:e.peymentHistory.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:new Date(e.payingDate).toDateString()}),Object(n.jsx)("td",{children:e.payedAmount})]})}))})]}),Object(n.jsx)("button",{onClick:function(){return r(!c)},className:"btn btn-primary",children:"Pay Installment"}),0!==e.AccId&&c?Object(n.jsx)(E,{Accid:e.AccId}):""]})},$=a(38),B=(a(82),a(36)),_=a.n(B),F=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1];Object($.b)(e.closingReason,{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return Object(n.jsxs)("div",{class:"card shadow m-2",style:{width:"12rem"},children:[c?Object(n.jsx)($.a,{}):"",Object(n.jsxs)("div",{class:"card-body",children:[Object(n.jsx)("h5",{class:"card-title",children:e.schemeName}),Object(n.jsx)("p",{class:"card-text",children:e.desc}),e.isAccClosed?"":Object(n.jsx)("button",{onClick:function(){return e.paymentDisplayHandler(e.AccId)},class:"btn btn-success",children:"Pay Installment"}),Object(n.jsx)("button",{onClick:function(){e.gotoPaymentHistory(e.AccId)},className:"btn btn-info mt-1",children:"Edit History"}),e.isAccClosed?"":Object(n.jsx)("button",{onClick:function(){e.disableAcc(e.AccId)},className:"btn btn-danger mt-1",children:"Disable Account"}),e.isAccClosed?Object(n.jsx)("button",{onClick:function(){return r(!c)},className:"btn btn-primary mt-1",children:"Show Reason"}):""]}),e.isAccClosed?Object(n.jsxs)("span",{onClick:e.isAccClosed?function(){return e.enableAcc(e.AccId)}:"",class:"badge badge-danger "+_.a.zoom,children:[" ",Object(n.jsx)("i",{class:"fa fa-lock","aria-hidden":"true"})]}):Object(n.jsxs)("span",{class:"badge badge-success "+_.a.zoom,children:[" ",Object(n.jsx)("i",{class:"fa fa-check","aria-hidden":"true"})]})]})},Q=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).gotoHistoryPaymentRedirectHandler=function(e){n.setState({gotoHistoryPaymentRedirect:{AccId:e,redir:!0}})},n.AccountEnableHandler=function(e){var t=window.prompt("what is the reason of Enabling Account");null!==t&&window.confirm("Attention Please! Opration Defination: Are you sure you want to --Enable-- this account")&&(g.a.put(window.$domain+"api/Accounts/DisableAndEnableHandler/"+e+"?ClosingDescription="+t).then((function(e){})),n.setState({Accounts:null}))},n.AccountDisableHandler=function(e){var t=window.prompt("what is the reason of Disabling Account");null!==t&&window.confirm("Attention Please! Opration Defination: Are you sure you want to disable this account")&&(g.a.put(window.$domain+"api/Accounts/DisableAndEnableHandler/"+e+"?ClosingDescription="+t).then((function(e){})),n.setState({Accounts:null}))},n.paymentDisplayHandler=function(e){n.state.Accounts.map((function(t){t.id===e&&(n.setState({DisplayAcc:t.accPaymentDetails}),n.setState({AccId:e}))}))},n.state={Accounts:null,Schemes:null,DisplayAcc:null,AccId:0,gotoHistoryPaymentRedirect:null,isLogin:!0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.Accounts&&(g.a.get(window.$domain+"api/Accounts/GetAccountbyUserId/"+this.props.match.params.id).then((function(t){e.setState({Accounts:t.data})})),g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({Schemes:t.data})}))),void 0===(new O.a).get("logedInUser")&&this.setState({isLogin:!1})}},{key:"componentDidUpdate",value:function(){var e=this;null===this.state.Accounts&&(g.a.get(window.$domain+"api/Accounts/GetAccountbyUserId/"+this.props.match.params.id).then((function(t){e.setState({Accounts:t.data})})),g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({Schemes:t.data})})))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(p,{children:[this.state.isLogin?"":Object(n.jsx)(o.a,{to:"/login"}),null===this.state.gotoHistoryPaymentRedirect?"":Object(n.jsx)(o.a,{to:"/Accounts/"+this.state.gotoHistoryPaymentRedirect.AccId+"/Payment"}),Object(n.jsxs)("div",{className:"jumbotron mt-3",children:[w(this.props.history),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-3",children:[Object(n.jsxs)("h5",{style:{textAlign:"center"},children:["Participated Schemes",Object(n.jsx)("i",{className:"fa fa-magic ","aria-hidden":"true"})]}),null!==this.state.Schemes&&null!==this.state.Accounts?this.state.Accounts.map((function(t){return e.state.Schemes.map((function(a){return a.id===t.mtServiceId?Object(n.jsx)(F,{schemeName:a.name,desc:a.details,AccId:t.id,paymentDisplayHandler:e.paymentDisplayHandler,gotoPaymentHistory:e.gotoHistoryPaymentRedirectHandler,isAccClosed:t.isAccClosed,disableAcc:e.AccountDisableHandler,closingReason:t.closingDescription,enableAcc:e.AccountEnableHandler}):""}))})):Object(n.jsx)("div",{className:"m-5",children:Object(n.jsx)(C.a,{animation:"grow"})})]}),Object(n.jsxs)("div",{className:"col-md-9",children:[Object(n.jsx)("h5",{style:{textAlign:"center"},children:"Account Payment Details"}),this.state.DisplayAcc?Object(n.jsx)(G,{peymentHistory:this.state.DisplayAcc,AccId:this.state.AccId}):"Please select a Scheme"]})]})]})]})}}]),a}(s.Component),z=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).printModeHandler=function(){n.setState({goneToPrint:!n.state.goneToPrint})},n.searchByDateTime=function(e){"Start-Date"===e.target.name&&n.setState({searchQuery:{startDate:new Date(e.target.value).toLocaleDateString(),endDate:n.state.searchQuery.endDate}}),"End-Date"===e.target.name&&n.setState({searchQuery:{startDate:n.state.searchQuery.startDate,endDate:new Date(e.target.value).toLocaleDateString()}})},n.state={historyList:[],isLogin:!0,goneToPrint:!1,searchQuery:{startDate:null,endDate:null},queryExecuted:!1},n.queryDataLoader=n.queryDataLoader.bind(Object(I.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.historyList.length&&g.a.get(window.$domain+"api/AccDetails/GetAccDetailsbyAccountId/"+this.props.match.params.id).then((function(t){t.data.map((function(t){g.a.get(window.$domain+"api/Users/"+t.postedByUserId).then((function(a){var n=[];(n=e.state.historyList).push({payDate:t.payingDate,paymentId:t.id,payedAmount:t.payedAmount,PostedByUser:a.data.userName}),e.setState({historyList:n})}))}))})).catch((function(e){})),void 0===(new O.a).get("logedInUser")&&this.setState({isLogin:!1})}},{key:"queryDataLoader",value:function(){var e=this;null!==this.state.searchQuery.startDate&&null!==this.state.searchQuery.endDate&&(this.setState({historyList:[]}),g.a.post(window.$domain+"api/AccDetails/GetAccountDetailsByGivenMonth/"+this.props.match.params.id+"?StartDate="+this.state.searchQuery.startDate+"&EndDate="+this.state.searchQuery.endDate).then((function(t){t.data.map((function(t){g.a.get(window.$domain+"api/Users/"+t.postedByUserId).then((function(a){var n=[];(n=e.state.historyList).push({payDate:t.payingDate,paymentId:t.id,payedAmount:t.payedAmount,PostedByUser:a.data.userName}),e.setState({historyList:n})}))}))})).catch((function(e){})))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(p,{children:[this.state.isLogin?"":Object(n.jsx)(o.a,{to:"/login"}),this.state.goneToPrint?Object(n.jsx)(q,{backToAppMode:this.printModeHandler,isPrintable:!0,goBackFunc:this.props.history,paymentHistoryList:this.state.historyList,AccID:this.props.match.params.id}):Object(n.jsxs)("div",{className:"jumbotron container-fluid overflow-auto",children:[w(this.props.history),Object(n.jsx)("h2",{children:"Payment History"}),Object(n.jsx)("label",{for:"StartMonth",children:"Start Month:"}),Object(n.jsx)("input",{className:"shadow form-control  ml-1",type:"date",id:"StartMonth",name:"Start-Date",defaultValue:"2021-10",onChange:this.searchByDateTime}),Object(n.jsx)("label",{for:"End-Month",children:"End Month:"}),Object(n.jsx)("input",{className:"shadow form-control ml-1",type:"date",id:"start",name:"End-Date",onChange:this.searchByDateTime}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("button",{className:"btn btn-light mt-2",style:{marginLeft:"auto",marginRight:"5px"},onClick:this.queryDataLoader,children:"Search"})}),null!==this.state.historyList?Object(n.jsx)(q,{paymentHistoryList:this.state.historyList,AccID:this.props.match.params.id,isPrintable:!1}):Object(n.jsx)(C.a,{animation:"grow"}),Object(n.jsx)("button",{onClick:function(){return e.setState({goneToPrint:!0})},className:"btn btn-primary",children:"Print"})]})]})}}]),a}(s.Component),q=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={redirect:!1,sum:0},e.updateComponent=function(){if(e.props.paymentHistoryList.length>null&&0===e.state.sum){var t=0;e.props.paymentHistoryList.map((function(e){t+=e.payedAmount})),e.setState({sum:t})}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updateComponent()}},{key:"componentDidUpdate",value:function(){this.updateComponent()}},{key:"printPage",value:function(){window.print(),this.props.backToAppMode()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"m-2",children:[this.props.isPrintable?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h4",{children:["Total Paid Amount: PKR ",this.state.sum]}),Object(n.jsxs)("h5",{children:["Scheme ID: ",this.props.AccID]})]}):"",Object(n.jsxs)("table",{className:"table ",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date -- Time"}),Object(n.jsx)("th",{children:"Payment"}),Object(n.jsx)("th",{children:"Payment Received By"}),this.props.isPrintable?"":Object(n.jsx)("th",{children:"Amount Modification"})]})}),Object(n.jsx)("tbody",{children:this.props.paymentHistoryList?this.props.paymentHistoryList.map((function(t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:new Date(t.payDate).toDateString()+" -- "+new Date(t.payDate).toLocaleTimeString()}),Object(n.jsx)("td",{children:t.payedAmount}),Object(n.jsx)("td",{children:t.PostedByUser}),e.props.isPrintable?"":Object(n.jsx)("td",{children:Object(n.jsx)(m.b,{to:"/account/payment/modification/"+t.paymentId,children:"modify"})})]})})):""})]}),this.props.isPrintable?Object(n.jsx)("a",{onClick:function(){return e.printPage()},style:{cursor:"pointer",color:"white",backgroundColor:"gray"},children:"Print Out"}):""]})}}]),a}(s.Component),Y=z,W=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).ReadyUser=function(e){"GetFullName"===e.target.name?n.setFullName(e.target):"GetUserName"===e.target.name?n.setUserName(e.target):"GetGender"===e.target.name?n.setGender(e.target):"GetEmail"===e.target.name?n.setEmail(e.target):"GetPassword"===e.target.name?n.setPassword(e.target):"GetCNIC"===e.target.name?n.setCNIC(e.target):"GetAddress"===e.target.name?n.setAddress(e.target):"GetPhone"===e.target.name&&n.setPhoneNumber(e.target)},n.setFullName=function(e){n.setState({userDetails:{id:0,name:e.value,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}})},n.setGender=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:e.value,registration_Date:n.state.userDetails.registration_Date}})},n.setUserName=function(e){n.setState({userName:e.value})},n.setEmail=function(e){n.setState({email:e.value})},n.setPassword=function(e){n.setState({password:e.value})},n.setCNIC=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:e.value,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}})},n.setAddress=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:e.value,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}})},n.setPhoneNumber=function(e){n.setState({userDetails:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:e.value,address:n.state.userDetails.address,gender:n.state.userDetails.gender,registration_Date:n.state.userDetails.registration_Date}})},n.setUserType=function(e){n.setState({role:e.target.value})},n.CreatNewUser=function(){g.a.post(window.$domain+"api/Users",{id:0,email:n.state.email,userName:n.state.userName,password:n.state.password,role:n.state.role,userDetail:{id:0,name:n.state.userDetails.name,cnic:n.state.userDetails.cnic,phoneNumber:n.state.userDetails.phoneNumber,address:n.state.userDetails.address,gender:n.state.userDetails.gender}}).then((function(e){return n.setState({redirect:!0})})).catch((function(e){alert(e.response.data)}))},n.state={id:0,email:"",role:"user",userName:"",password:"",userDetails:{id:0,name:"",cnic:"",phoneNumber:"",address:"",gender:"",registration_Date:""},MTServices:[],redirect:!1},n.amountInputRef=c.a.createRef(),n.ReadyUser=n.ReadyUser.bind(Object(I.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)(p,{children:Object(n.jsxs)("div",{className:"jumbotron",children:[w(this.props.history),this.state.redirect?Object(n.jsx)(o.a,{to:"/manageuser"}):"",Object(n.jsx)("h3",{children:"Create New User"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"Please Select User Type"}),Object(n.jsxs)("select",{class:"form-select form-select-lg",onChange:this.setUserType,"aria-label":".form-select-sm example",children:[Object(n.jsx)("option",{selected:!0,children:"user"}),Object(n.jsx)("option",{children:"worker"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"User Information"}),Object(n.jsx)("hr",{}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Full Name",inutType:"text",ctrlName:"GetFullName"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"User Name",inutType:"text",ctrlName:"GetUserName"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"E-mail",inutType:"email",ctrlName:"GetEmail"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Password",inutType:"password",ctrlName:"GetPassword"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Phone Number",inutType:"text",ctrlName:"GetPhone"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"CNIC",inutType:"text",ctrlName:"GetCNIC"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Complete Address",inutType:"text",ctrlName:"GetAddress"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Gender",inutType:"text",ctrlName:"GetGender"}),Object(n.jsx)("button",{onClick:this.CreatNewUser,className:"btn btn-secondary",children:"Create"})]})})}}]),a}(s.Component),J=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).ReadyUser=function(e){"GetAmountPayable"===e.target.name?n.TotalAmountPayable(e.target):"GetMonthlyInstallment"===e.target.name&&n.MonthlyInstallment(e.target)},n.TotalAmountPayable=function(e){n.setState({AccProtoType:{id:0,amountPayable:e.value,monthlyInstalment:n.state.AccProtoType.monthlyInstalment,isAccClosed:!1,userid:n.state.AccProtoType.userid,mtServiceId:n.state.AccProtoType.mtServiceId,accPaymentDetails:null}})},n.MonthlyInstallment=function(e){n.setState({AccProtoType:{id:0,amountPayable:n.state.AccProtoType.amountPayable,monthlyInstalment:e.value,isAccClosed:!1,userid:n.state.AccProtoType.userid,mtServiceId:n.state.AccProtoType.mtServiceId,accPaymentDetails:null}})},n.PostData=function(){g.a.get(window.$domain+"api/Accounts/GetAccountbyUserId/"+n.state.AccProtoType.userid).then((function(e){var t=!1;e.data.map((function(e){e.mtServiceId===n.state.AccProtoType.mtServiceId&&(t=!0,alert("Sorry! You are not allow to make duplication"))})),t||g.a.post(window.$domain+"api/Accounts",n.state.AccProtoType).then((function(e){n.setState({redirect:!0})})).catch((function(e){return alert(e.data.message)}))})).catch((function(e){return alert(e.data.message)}))},n.MTServiceSelection=function(e){"Please Select Scheme/Product"!==e.target.value&&n.state.MTServices.map((function(t){t.name===e.target.value&&n.setState({AccProtoType:{id:0,amountPayable:n.state.AccProtoType.amountPayable,monthlyInstalment:n.state.AccProtoType.monthlyInstalment,isAccClosed:!1,userid:n.state.AccProtoType.userid,mtServiceId:t.id,accPaymentDetails:null}})}))},n.state={AccProtoType:{id:0,amountPayable:0,monthlyInstalment:0,isAccClosed:!1,userid:0,mtServiceId:0,accPaymentDetails:null},MTServices:null,redirect:!1,isLogin:!0},n.amountInputRef=c.a.createRef(),n.ReadyUser=n.ReadyUser.bind(Object(I.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.AccProtoType.userid&&this.setState({AccProtoType:{id:0,amountPayable:this.state.AccProtoType.amountPayable,monthlyInstalment:this.state.AccProtoType.monthlyInstalment,isAccClosed:!1,userid:this.props.match.params.id,mtServiceId:this.state.AccProtoType.mtServiceId,accPaymentDetails:null}}),null===this.state.MTServices&&g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({MTServices:t.data})})),void 0===(new O.a).get("logedInUser")&&this.setState({isLogin:!1})}},{key:"render",value:function(){return Object(n.jsxs)(p,{children:[this.state.isLogin?"":Object(n.jsx)(o.a,{to:"/login"}),this.state.redirect?Object(n.jsx)(o.a,{to:"/manageuser"}):"",Object(n.jsxs)("div",{className:"jumbotron",children:[w(this.props.history),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h5",{children:"Add User to New Scheme"}),Object(n.jsx)("hr",{}),Object(n.jsx)("h6",{children:"Please Select Scheme/Product"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("select",{class:"form-select form-select-lg",onChange:this.MTServiceSelection,"aria-label":".form-select-sm example",children:[Object(n.jsx)("option",{selected:!0,children:"Please Select Scheme/Product"}),this.state.MTServices?this.state.MTServices.map((function(e){return Object(n.jsx)("option",{children:e.name},e.id)})):Object(n.jsx)("option",{selected:!0,children:"Wait We are trying to Load Your Providing Services"})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsx)("label",{for:"GetAmountPayable",children:"Total Amount Payable:"}),Object(n.jsx)("input",{ref:this.amountInputRef,type:"number",class:"form-control",onChange:this.ReadyUser,name:"GetAmountPayable"})]}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Monthly Installment",inutType:"number",ctrlName:"GetMonthlyInstallment"}),Object(n.jsx)("button",{className:"btn btn-success",onClick:this.PostData,children:"Add User to this Sceme"})]})]})}}]),a}(s.Component),K=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={mtServices:null,isLogin:!0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.mtServices&&g.a.get(window.$domain+"api/MTServices").then((function(t){e.setState({mtServices:t.data})})).catch((function(e){alert("Page: Product Load =>"+e)})),void 0===(new O.a).get("logedInUser")&&this.setState({isLogin:!1})}},{key:"render",value:function(){return Object(n.jsx)(p,{children:Object(n.jsxs)("div",{className:"jumbotron",children:[Object(n.jsx)("h3",{children:"Manage Products/Schemes"}),Object(n.jsx)("div",{className:"row m-1 overflow-auto",children:Object(n.jsxs)("table",{className:"table shadow table-bordered ",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Id"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Total Amount"}),Object(n.jsx)("th",{children:"Details"})]})}),Object(n.jsx)("tbody",{children:this.state.mtServices?this.state.mtServices.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.id}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.amount}),Object(n.jsx)("td",{children:e.details})]})})):"we are loading data from server"})]})}),Object(n.jsx)(m.b,{className:"btn btn-success shadow",to:"/AddProduct",children:"Add More Product"})]})})}}]),a}(s.Component),V=function(e){return Object(n.jsxs)("div",{class:"form-group ",children:[Object(n.jsxs)("label",{for:e.name,children:[e.Name,":"]}),Object(n.jsx)("input",{type:e.type,class:"form-control",onChange:e.DataInputHandler,name:e.Name})]})},X=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={newProduct:{id:0,name:"",amount:0,details:""},redirect:!1},e.inputHandler=function(t){"Scheme/Product Name"===t.target.name?e.handleName(t.target.value):"Total Amount"===t.target.name?e.handleAmount(t.target.value):"Add Details"===t.target.name&&e.handleDetails(t.target.value)},e.handleName=function(t){e.setState({newProduct:{id:0,name:t,amount:e.state.newProduct.amount,details:e.state.newProduct.details}})},e.handleAmount=function(t){e.setState({newProduct:{id:0,name:e.state.newProduct.name,amount:t,details:e.state.newProduct.details}})},e.handleDetails=function(t){e.setState({newProduct:{id:0,name:e.state.newProduct.name,amount:e.state.newProduct.amount,details:t}})},e.postNewProduct=function(){g.a.post(window.$domain+"api/MTServices",e.state.newProduct).then((function(t){e.setState({redirect:!0})})).catch((function(e){alert(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(p,{children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/products"}):"",Object(n.jsxs)("div",{className:"jumbotron",children:[Object(n.jsx)("h3",{children:"Add New Product"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Scheme/Product Name",type:"text"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Total Amount",type:"Number"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Add Details",type:"text"}),Object(n.jsx)(m.b,{className:"btn btn-success",onClick:this.postNewProduct,children:"Add Product"})]})]})}}]),a}(s.Component),Z=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={amount:0,EntryDateTime:null,redirect:!1,accDetailsId:0,isLogin:!0},e.ReadyUser=function(t){t.target.value>0&&e.setState({amount:t.target.value})},e.postPaymnet=function(){g.a.get(window.$domain+"api/AccDetails/"+e.props.match.params.id).then((function(t){var a=t.data;a.payedAmount=e.state.amount,a.payingDate=e.state.EntryDateTime,g.a.put(window.$domain+"api/AccDetails/"+e.props.match.params.id,a).then((function(a){e.setState({accDetailsId:t.data.accId}),e.setState({redirect:!0})}))})).catch((function(e){alert(e)}))},e.EntryDateTimeHandler=function(t){e.setState({EntryDateTime:t.target.value})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){void 0===(new O.a).get("logedInUser")&&this.setState({isLogin:!1})}},{key:"render",value:function(){return Object(n.jsxs)(p,{children:[this.state.isLogin?"":Object(n.jsx)(o.a,{to:"/login"}),Object(n.jsxs)("div",{className:"jumbotron mt-3",children:[this.state.redirect?Object(n.jsx)(o.a,{to:"/Accounts/"+this.state.accDetailsId+"/Payment"}):"",Object(n.jsx)("h3",{children:"Modify Payment"}),Object(n.jsx)("hr",{}),Object(n.jsx)("label",{for:"Entry",children:"Entry Date Time:--"}),Object(n.jsx)("input",{onChange:this.EntryDateTimeHandler,type:"datetime-local",id:"Entry",name:"Entry"}),Object(n.jsx)(M,{DataInputHandler:this.ReadyUser,Name:"Payment",inutType:"number",ctrlName:"Add Payment"}),Object(n.jsx)("button",{onClick:this.postPaymnet,className:"btn btn-success",children:"Post Amount"})]})]})}}]),a}(s.Component),ee=a(86),te=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("nav",{className:" navbar-expand-lg navbar navbar-light bg-dark  py-3",id:"mainNav",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(m.b,{to:"/",class:"navbar-brand js-scroll-trigger",children:"Shop"}),Object(n.jsx)("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(n.jsx)("ul",{className:"navbar-nav ml-auto my-2 my-lg-0",children:Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link js-scroll-trigger",to:"/manageuser",children:"Goto Users"})})})})]})})}}]),a}(s.Component),ae=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(te,{}),e.children]})},ne=function(e){return Object(n.jsx)("div",{class:"card  shadow h-30 py-1",children:Object(n.jsx)("div",{class:"card-body",children:Object(n.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(n.jsxs)("div",{class:"col mr-2",children:[Object(n.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Current Amount"}),Object(n.jsxs)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:["PKR ",e.currentAmount,"/-"]})]}),Object(n.jsx)("div",{class:"col-auto",children:Object(n.jsx)("i",{class:"fas fa-credit-card fa-2x text-gray-300"})})]})})})},se=function(e){var t=0;return Object(n.jsx)("div",{children:Object(n.jsxs)("table",{className:"table mt-2 shadow",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"No#"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Received"}),Object(n.jsx)("th",{scope:"col",children:"Paid"}),Object(n.jsx)("th",{scope:"col",tooltip:"Transection Date",children:"Transection Date Time"}),Object(n.jsx)("th",{scope:"col",children:"Description"})]})}),Object(n.jsx)("tbody",{children:e.accHistory.map((function(e){return t+=1,Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t}),Object(n.jsx)("th",{scope:"row",children:e.paymentTitle}),Object(n.jsx)("td",{children:e.amountRecived}),Object(n.jsx)("td",{children:e.amountPaid}),Object(n.jsx)("td",{children:e.transectionDate}),Object(n.jsx)("td",{children:e.paymentDescription})]})}))})]})})},ce=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).searchByDateTime=function(e){"Start-Date"===e.target.name&&n.setState({searchQuery:{startDate:new Date(e.target.value).toLocaleDateString(),endDate:n.state.searchQuery.endDate}}),"End-Date"===e.target.name&&n.setState({searchQuery:{startDate:n.state.searchQuery.startDate,endDate:new Date(e.target.value).toLocaleDateString()}})},n.state={accHistory:[],currentAmount:0,shopId:0,searchQuery:{startDate:null,endDate:null},redirectToLogin:!1,propsDataMount:!1},n.queryDataLoader=n.queryDataLoader.bind(Object(I.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.accHistory.length&&g.a.get(window.$domain+"api/ShopAccountPaymentHistories/GetShopAccountPaymentHistorybuUserId/"+this.props.match.params.id).then((function(t){e.setState({accHistory:t.data})})).catch((function(e){alert(e)}))}},{key:"componentDidUpdate",value:function(){var e=this;!1===this.state.propsDataMount&&g.a.get(window.$domain+"api/ShopAccounts/GetShopAccountByUserId/"+this.props.match.params.id).then((function(t){e.setState({currentAmount:t.data.currentPayment}),e.setState({shopId:t.data.id}),e.setState({propsDataMount:!0})})).catch((function(e){alert(e.data.message)}))}},{key:"queryDataLoader",value:function(){var e=this;null!==this.state.searchQuery.startDate&&null!==this.state.searchQuery.endDate?g.a.get(window.$domain+"api/ShopAccountPaymentHistories/SearchShopAccountPaymentHistorybuUserId/"+this.props.match.params.id+"?StartDate="+this.state.searchQuery.startDate+"&EndDate="+this.state.searchQuery.endDate).then((function(t){e.setState({accHistory:t.data})})).catch((function(e){})):alert("Check Start and End Date")}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ae,{children:Object(n.jsxs)(ee.a,{children:[w(this.props.history),Object(n.jsx)(ne,{currentAmount:this.state.currentAmount}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("label",{for:"StartMonth",children:"Start Date:"}),Object(n.jsx)("input",{className:"shadow form-control shadow",type:"date",id:"StartMonth",name:"Start-Date",defaultValue:"2021-10",onChange:this.searchByDateTime})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("label",{for:"End-Month",children:"End Date:"}),Object(n.jsx)("input",{className:"shadow form-control shadow",type:"date",id:"start",name:"End-Date",onChange:this.searchByDateTime})]})]}),Object(n.jsxs)("div",{className:"row m-1",children:[Object(n.jsxs)(m.b,{to:"/user/"+this.props.match.params.id+"/shop/"+this.state.shopId+"/NewTransection",className:"shadow btn btn-danger m-1",children:["New Transaction ",Object(n.jsx)("i",{className:"fa fa-file-invoice","aria-hidden":"true"})]}),Object(n.jsxs)("button",{onClick:function(){window.print()},className:"shadow btn btn-success m-1",children:["Print",Object(n.jsx)("i",{className:"fa fa-print","aria-hidden":"true"})]}),Object(n.jsxs)("button",{className:"btn btn-light mt-1 shadow",style:{marginLeft:"auto",marginRight:"5px"},onClick:this.queryDataLoader,children:["Search",Object(n.jsx)("i",{className:"fa fa-search ","aria-hidden":"true"})]})]}),Object(n.jsx)(se,{accHistory:this.state.accHistory})]})})})}}]),a}(s.Component),re=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{class:"form-check-inline",children:Object(n.jsxs)("label",{class:"form-check-label",children:[Object(n.jsx)("input",{type:"radio",class:"form-check-input",name:"T-Type",id:"receive",onClick:e.t_State}),"On Amount Receive"]})}),Object(n.jsx)("div",{class:"form-check-inline",children:Object(n.jsxs)("label",{class:"form-check-label",children:[Object(n.jsx)("input",{type:"radio",class:"form-check-input",name:"T-Type",id:"pay",onClick:e.t_State}),"On Amount Paid"]})})]})})},ie=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={id:0,paymentTitle:"",amountRecived:0,amountPaid:0,paymentDescription:"",transectionDate:"2021-09-15T15:12:00",shopAccountId:e.props.match.params.shopId,t_Type:"receive",redirectToBack:!1},e.inputHandler=function(t){var a=t.target.name,n=t.target.value;"Transection Title"===a?e.setState({paymentTitle:n}):"Receiving Amount"===a?e.setState({amountRecived:n}):"Paid Amount"===a?e.setState({amountPaid:n}):"Transection Description"===a?e.setState({paymentDescription:n}):"Transection Date Time"===a&&e.setState({transectionDate:n})},e.submitTransection=function(){"pay"===e.state.t_Type?g.a.post(window.$domain+"api/ShopAccountPaymentHistories",{id:0,paymentTitle:e.state.paymentTitle,amountRecived:0,amountPaid:e.state.amountPaid,paymentDescription:e.state.paymentDescription,transectionDate:e.state.transectionDate,shopAccountId:e.state.shopAccountId}).then((function(t){e.setState({redirectToBack:!0})})).catch((function(e){alert(e.response.data)})):"receive"===e.state.t_Type&&g.a.post(window.$domain+"api/ShopAccountPaymentHistories",{id:0,paymentTitle:e.state.paymentTitle,amountRecived:e.state.amountRecived,amountPaid:0,paymentDescription:e.state.paymentDescription,transectionDate:e.state.transectionDate,shopAccountId:e.props.match.params.shopId}).then((function(t){e.setState({redirectToBack:!0})})).catch((function(e){alert(e.response.data)}))},e.setT_Type=function(t){var a=t.target.id;"pay"===a?e.setState({t_Type:"pay"}):"receive"===a&&e.setState({t_Type:"receive"})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(ae,{children:[this.state.redirectToBack?Object(n.jsx)(o.a,{to:"/user/"+this.props.match.params.id+"/shop"}):"",Object(n.jsxs)("div",{className:"jumbotron",children:[w(this.props.history),Object(n.jsx)("h3",{style:{textAlign:"center"},children:"Create Transactions"}),Object(n.jsx)(re,{t_State:this.setT_Type}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Transection Title",type:"text"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Receiving Amount",type:"Number"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Paid Amount",type:"Number"}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{for:"comment",children:"Transection Description:"}),Object(n.jsx)("textarea",{onChange:this.inputHandler,class:"form-control",rows:"2",name:"Transection Description",id:"comment"})]}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Transection Date Time",type:"datetime-local"}),Object(n.jsx)(m.b,{className:"btn btn-success",onClick:this.submitTransection,children:"Submit"})]})]})}}]),a}(s.Component),oe=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={id:1,bankName:"",accountNo:"",isDefaulter:!1,currentPayment:0,userId:e.props.match.params.id,redirect:!1,responce:null},e.inputHandler=function(t){var a=t.target.name,n=t.target.value;"Bank Name"===a?e.setState({bankName:n}):"Account No"===a?e.setState({accountNo:n}):"Start Amount"===a&&e.setState({currentPayment:n})},e.submitTransection=function(){g.a.post(window.$domain+"api/ShopAccounts",{id:0,bankName:e.state.bankName,accountNo:e.state.accountNo,isDefaulter:e.state.isDefaulter,currentPayment:0,userId:e.state.userId}).then((function(t){e.state.currentPayment>0?g.a.post(window.$domain+"api/ShopAccountPaymentHistories",{id:0,paymentTitle:"Add Stating Amount",amountRecived:e.state.currentPayment,amountPaid:0,paymentDescription:"This is shop Account Starting Transaction",transectionDate:new Date,shopAccountId:t.data.id}).catch((function(e){alert(e.response.data)})):e.state.currentPayment<0&&g.a.post(window.$domain+"api/ShopAccountPaymentHistories",{id:0,paymentTitle:"Add Stating Amount",amountRecived:0,amountPaid:e.state.currentPayment,paymentDescription:"This is shop Account Starting Transaction",transectionDate:new Date,shopAccountId:t.data.id}).catch((function(e){alert(e.response.data)})),e.setState({responce:t.data}),e.setState({redirect:!0})})).catch((function(e){alert(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)(ae,{children:Object(n.jsxs)("div",{className:"jumbotron",children:[w(this.props.history),this.state.responce&&this.state.redirect?Object(n.jsx)(o.a,{to:"/user/"+this.props.match.params.id+"/shop"}):"",Object(n.jsx)("h3",{style:{textAlign:"center"},children:"Create Shop Account"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Bank Name",type:"text"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Account No",type:"text"}),Object(n.jsx)(V,{DataInputHandler:this.inputHandler,Name:"Start Amount",type:"Number"}),Object(n.jsx)(m.b,{className:"btn btn-success",onClick:this.submitTransection,children:"Submit"})]})})}}]),a}(s.Component);window.$domain="https://maliktraders20211011002845.azurewebsites.net/";var le=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/",exact:!0,component:T}),Object(n.jsx)(o.b,{exact:!0,path:"/login",component:U}),Object(n.jsx)(o.b,{path:"/ManageUser",exact:!0,component:R}),Object(n.jsx)(o.b,{path:"/ShowAccountDetails/:id",component:Q}),Object(n.jsx)(o.b,{path:"/Accounts/:id/Payment",component:Y}),Object(n.jsx)(o.b,{exact:!0,path:"/CreateUser",component:W}),Object(n.jsx)(o.b,{exact:!0,path:"/User/:id/shop",component:ce}),Object(n.jsx)(o.b,{exact:!0,path:"/User/:id/Shop/:shopId/NewTransection",component:ie}),Object(n.jsx)(o.b,{exact:!0,path:"/User/:id/Create-Shop-Account",component:oe}),Object(n.jsx)(o.b,{exact:!0,path:"/Products",component:K}),Object(n.jsx)(o.b,{exact:!0,path:"/AddProduct",component:X}),Object(n.jsx)(o.b,{path:"/User/:id/AddtoNewScheme",exact:!0,component:J}),Object(n.jsx)(o.b,{path:"/Account/Payment/Modification/:id",component:Z})]})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,87)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},ue=a(51),he=a(25),je=a(20),me="SIGNIN_USER",be="SIGNOUT_USER",pe={loggedinUser:{email:"",displayName:"",pictureURL:"",loggedinStatus:!1}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,a=new O.a,n=a.get("user");if(n&&n.loggedinStatus)return Object(je.a)(Object(je.a)({},e),{},{loggedinUser:a.get("user")});switch(a.set("user",e.loggedinUser,{path:"/"}),t.type){case me:return a.set("user",t.payload,{path:"/"}),Object(je.a)(Object(je.a)({},e),{},{loggedinUser:t.payload});case be:var s={loggedinUser:{email:"",displayName:"",pictureURL:"",loggedinStatus:!1}};return a.set("user",s.loggedinUser,{path:"/"}),Object(je.a)(Object(je.a)({},e),{},{loggedinUser:s.loggedinUser});default:return e}};var xe=Object(he.c)(Oe,Object(he.a)((function(e){return e.getState,function(e){return function(t){return e(t)}}})));i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(ue.a,{store:xe,children:Object(n.jsx)(le,{})})})}),document.getElementById("root")),de()}},[[84,1,2]]]);
//# sourceMappingURL=main.d7460376.chunk.js.map